(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[592,13,"StoryPinEndCard"],{"/X16":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o={USER_FOLLOW:"USER_FOLLOW"},r={USER_BLOCK:"USER_BLOCK"}},"4jWr":function(e,t,n){n.d(t,"a",(function(){return o}));const o=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},ADns:function(e,t,n){var o=n("q1tI"),r=n("/MKj"),a=n("Ye/N"),i=n("oRao"),l=n("vvax"),c=n("n6mq"),s=n("nKUr");var u=({followText:e,followerCount:t,userFollowed:n})=>Object(l.b)(a.a._("{{ followCount }} {{ followText }}"),{followCount:Object(s.jsx)(c.f,{"data-test-id":"followCount",paddingX:1,opacity:n?void 0:.8,children:Object(s.jsx)(c.cb,{color:n?"gray":"white",children:Object(s.jsx)(i.a,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(s.jsx)(c.f,{"data-test-id":"followText",paddingX:1,children:Object(s.jsx)(c.cb,{color:n?"darkGray":"white",weight:"bold",children:e})},"followText")}),d=n("M1Uz"),b=n("fc1g"),h=n("U4JR"),p=n("nGHF"),m=n("ANjH"),g=n("ZVOf");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends o.PureComponent{constructor(...e){super(...e),f(this,"handleButtonClick",({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation()),Object(h.b)(101,{component:13672,element:11951,objectId:this.props.id,view:this.props.viewType,viewParameter:this.props.viewParameter}),this.toggleFollowUnfollow()}),f(this,"handleClick",({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}),f(this,"toggleFollowUnfollow",()=>{this.props.userFollowed?(Object(h.b)(46,{objectId:this.props.id,pin_id:this.props.mostRecentPin,view:this.props.viewType,viewParameter:this.props.viewParameter}),this.unfollow()):(Object(h.b)(45,{objectId:this.props.id,pin_id:this.props.mostRecentPin,view:this.props.viewType,viewParameter:this.props.viewParameter}),this.follow())}),f(this,"follow",()=>{const{follow:e,id:t,onUserFollow:n,mostRecentPin:o,clearMostRecentPin:r}=this.props;e(t,o,this.showConfirmation,this.showError),n&&n(!0),r()}),f(this,"showToast",e=>{const{imageUrl:t,profileUrl:n,toastManagerContext:o,suppressToasts:r}=this.props;r||o.showOneToast(({onHide:o})=>Object(s.jsx)(d.a,{onHide:o,text:e,href:n,imageUrl:t,thumbnailShape:"circle"}))}),f(this,"showConfirmation",()=>{const{fullName:e}=this.props,t=Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)(c.cb,{children:a.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(s.jsx)(c.cb,{weight:"bold",children:e})]});this.showToast(t)}),f(this,"showError",()=>{const{fullName:e,userFollowed:t}=this.props,n=t?a.a._("Error unfollowing {{ usernameComponent }}.","UserFollowButton.error.unfollowing","When there is an API error when unfollowing a user"):a.a._("Error following {{ usernameComponent }}.","UserFollowButton.error.following","When there is an API error when following a user"),r=Object(s.jsx)(o.Fragment,{children:Object(s.jsx)(c.cb,{children:Object(l.b)(n,{usernameComponent:Object(s.jsx)(c.cb,{weight:"bold",inline:!0,children:e})})})});this.showToast(r)}),f(this,"unfollow",()=>{const{id:e,onUserFollow:t,unfollow:n,mostRecentPin:o,clearMostRecentPin:r}=this.props;n(e,o,()=>{},this.showError),t&&t(!1),r()})}renderButton(){const{button:e,followerCount:t,inline:n=!1,isOwnProfile:o,invertButtonColor:r,isSecondaryButton:i,size:l,showFollowerCount:d,userFollowed:b}=this.props,h=b?a.a._("Following","User follow button","User follow button"):a.a._("Follow","User follow button","User follow button");if(e)return e({followText:h,onClick:this.handleButtonClick,userFollowed:b});if(o)return Object(s.jsx)(c.g,{disabled:!0,text:a.a._("This is you","Button label to note that this is your Profile","Button label to note that this is your Profile")});if(d){const e="number"==typeof t?Object(s.jsx)(u,{followerCount:t,userFollowed:b,followText:h}):h;return Object(s.jsx)(c.bb,{onTap:this.handleClick,children:Object(s.jsx)(c.f,{color:b?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:Object(s.jsx)(c.f,{display:"flex",alignItems:"center",children:e})})})}return Object(s.jsx)(c.f,{display:"inlineBlock","data-test-id":`user-${b?"unfollow":"follow"}-button`,children:Object(s.jsx)(c.g,{accessibilityLabel:b?a.a._("Unfollow","userUnfollowButton.button.accessibilityLabel","Accessibility label for the unfollow button"):a.a._("Follow","userFollowButton.button.accessibilityLabel","Accessibility label for the follow button"),color:i||b?"gray":"red",selected:r?!b:!!b,inline:n,onClick:this.handleButtonClick,size:null!=l?l:void 0,text:h})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return Object(s.jsxs)(c.f,{position:"relative",display:"flex",children:[this.renderButton(),e&&Object(s.jsx)(c.bb,{onTap:this.handleClick,children:Object(s.jsx)(c.f,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:Object(s.jsx)(c.M,{paused:t||!1})})})]})}}t.a=Object(m.compose)(Object(r.connect)((function({mostRecentPin:e,users:t},{id:n,userFollowed:o}){const r=(t||{})[n];return{followerCount:r?r.follower_count:null,mostRecentPin:e?e.id:null,userFollowed:r?r.explicitly_followed_by_me:o}}),(function(e){return{clearMostRecentPin:()=>e(Object(b.a)(null)),follow:(t,n,o,r)=>{e(Object(g.b)(t,n)).then(o,r)},unfollow:(t,n,o,r)=>{e(Object(g.d)(t,n)).then(o,r)}}})),p.c)(j)},EC51:function(e,t,n){var o=n("q1tI"),r=n("zwad"),a=n("n6mq"),i=n("gqRH"),l=n("nKUr");const c=Object(o.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:o,forceTarget:c,hoverStyle:s,href:u,id:d,inline:b,onBlur:h,onClick:p,onFocus:m,rel:g,target:f}=e,j=r.a.isOffsiteUrl(u);return Object(l.jsx)(i.a,{href:u,target:!c&&j?null:f,children:({handleClick:e})=>Object(l.jsx)(a.B,{accessibilityLabel:n,hoverStyle:s,href:u,id:d,inline:b,onBlur:h,onClick:({event:t,disableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},onFocus:m,ref:t,rel:j?"nofollow":g,target:c?f:null,children:o})})});c.displayName="Link",t.a=c},ELU8:function(e,t,n){n.r(t);var o=n("/MKj"),r=n("FDmi"),a=n("EC51"),i=n("hZxF"),l=n("yweb"),c=n("Zswh"),s=n("w70y"),u=n("ADns"),d=n("v/Q4"),b=n("eutt"),h=n("qpbZ"),p=n("XRfM"),m=n("OSge"),g=n("QAzJ"),f=n("EC67"),j=n("pLLR"),_=n("n6mq"),y=n("nKUr");const O=new _.n([b.a]),w=new _.n([b.a,O]);t.default=({creatorName:e,watchAgain:t,restartLastPage:n})=>{const b=Object(s.a)({name:"UserResource",options:{username:e,field_set_key:"profile"}}),v=Object(d.a)(),x=Object(f.h)(),{locale:E}=Object(j.d)(),C=Object(l.c)(),T=!!v.username&&e===v.username,S=Object(c.a)(),k=Object(o.useSelector)(({mostRecentPin:e})=>null==e?void 0:e.id),R=Object(o.useSelector)(({users:e})=>{var t;return(null!==(t=b.data)&&void 0!==t&&t.id?e[b.data.id]:{}).explicitly_followed_by_me}),{anyEnabled:P}=Object(g.a)("hfp_spark_closeup_web")({dangerouslySkipActivation:!0});if(Object(i.a)(()=>{S({event_type:120,view_type:3,component:13799})}),b.data){const{follower_count:e=0,about:o,full_name:i,username:l,id:c,image_large_url:s,explicitly_followed_by_me:d,verified_identity:g}=b.data,f=!(null==g||!g.verified),j=`/${l}/`,v=({event:e})=>{e.stopPropagation(),x.push(j),S({event_type:101,view_type:3,component:13799,element:27})},I=Object(h.b)(C.ngettext("{{ number }} follower","{{ number }} followers",e,"storyPin.endCard.followerCount","user has {{ number }} of followers"),{number:Object(p.g)(E,e,{shortform:!0,shortform_maximum_fraction_digits:1})}).join(" ");return Object(y.jsx)(_.f,{top:!0,left:!0,bottom:!0,right:!0,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.8)"}},"data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",padding:4,position:"absolute",rounding:m.e,width:"100%",children:Object(y.jsxs)(_.t,{direction:"column",alignItems:"center",height:"100%",width:"100%",children:[Object(y.jsx)(_.f,{height:"100%",width:"50%",position:"absolute",left:!0,zIndex:O,children:Object(y.jsx)(_.bb,{fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.stopPropagation(),n()}})}),Object(y.jsx)(_.f,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",width:"70%",height:"100%",zIndex:w,children:Object(y.jsxs)(_.t,{gap:2,justifyContent:"center",direction:"column",width:"100%",flex:"grow",children:[Object(y.jsx)(_.t.Item,{alignSelf:"center",children:Object(y.jsx)(_.f,{"data-test-id":"end-card-avatar",children:Object(y.jsx)(_.bb,{onTap:v,children:Object(y.jsx)(r.a,{outline:!P,src:null!=s?s:void 0,name:null!=i?i:" ",size:"xl",verified:f})})})}),Object(y.jsx)(_.u,{color:"white",align:"center",size:P?"md":"lg",truncate:!0,children:i}),o?Object(y.jsxs)(_.cb,{color:"white",align:"center",children:[Object(y.jsx)(a.a,{inline:!0,href:j,hoverStyle:"none",onClick:()=>{S({event_type:101,view_type:3,component:13799,element:11619})},children:Object(y.jsx)(_.cb,{inline:!0,weight:"bold",color:"white",align:"center",children:"@"+l})})," Â· "+o]}):Object(y.jsx)(_.cb,{color:"white",align:"center",children:"@"+l}),e>0&&Object(y.jsx)(_.cb,{weight:"bold",color:"white",align:"center",children:I}),T?null:Object(y.jsx)(_.t.Item,{alignSelf:"center",children:Object(y.jsx)(_.f,{"data-test-id":`user-${R?"unfollow":"follow"}-button`,marginTop:2,children:Object(y.jsx)(_.t,{alignItems:"center",gap:2,justifyContent:"start",children:Object(y.jsx)(u.a,{button:({followText:e,onClick:t})=>Object(y.jsx)(_.g,{inline:!0,onClick:({event:e})=>{e.stopPropagation(),t(e)},selected:d,size:"lg",text:e}),fullName:i,id:c,imageUrl:null!=s?s:"",profileUrl:j,userFollowed:d,onUserFollow:e=>{S(e?{aux_data:{pin_id:k},component:13799,element:11951,event_type:45,object_id_str:c,view_type:3}:{aux_data:{pin_id:k},component:13799,element:11951,event_type:46,object_id_str:c,view_type:3})}})})})})]})}),Object(y.jsx)(_.f,{display:"flex",alignItems:"end",paddingY:8,zIndex:w,children:Object(y.jsx)(_.bb,{onTap:({event:e})=>{e.stopPropagation(),t()},children:Object(y.jsxs)(_.t,{gap:2,justifyContent:"center",alignItems:"center",children:[P?Object(y.jsx)(_.v,{accessibilityLabel:C._("Replay button","storyPin.closeup.endCard.replay","Button label to navigate to previous page"),color:"white",icon:"refresh",size:14}):Object(y.jsx)(_.w,{accessibilityLabel:C._("Replay button","storyPin.closeup.endCard.replay","Button label to navigate to previous page"),bgColor:"white",icon:"refresh",iconColor:"darkGray",size:"md"}),P?Object(y.jsx)(_.cb,{color:"white",size:"lg",weight:"bold",children:C._("Watch again","storyPin.closeup.endCard.watchAgain","Button when pressed restarts the story pin experience")}):Object(y.jsx)(_.u,{color:"white",size:"sm",children:C._("Watch again","storyPin.closeup.endCard.watchAgain","Button when pressed restarts the story pin experience")})]})})})]})})}return null}},M1Uz:function(e,t,n){n.d(t,"a",(function(){return l}));var o=n("q1tI"),r=n("4jWr"),a=n("n6mq"),i=n("nKUr");function l({color:e="white",duration:t=2e3,href:n,iconThumbnail:l,imageUrl:c,onClick:s,onHide:u,openNewPage:d,text:b,button:h,thumbnailShape:p="square",dataTestId:m}){const[g,f]=Object(o.useState)(!1),[j,_]=Object(o.useState)(!1),y=Object(o.useRef)(),O=()=>{f(!0),y.current=setTimeout(u,r.a)},w=()=>{y.current&&clearTimeout(y.current)},v=()=>{y.current=setTimeout(O,t)};Object(o.useEffect)(()=>(setTimeout(()=>_(!0),100),v(),w),[]);const x="string"==typeof b?b:`${b[0]} ${b[1]}`,E=c?Object(i.jsx)(a.f,{height:48,overflow:"hidden",width:48,children:Object(i.jsx)(a.x,{alt:x,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,C=Object(i.jsx)(a.fb,{color:e,text:b,thumbnail:null!=l?l:E,button:h,thumbnailShape:p});return Object(i.jsx)("div",{style:Object(r.b)(j,g),onMouseEnter:w,onMouseLeave:v,"data-test-id":null!=m?m:"toast",children:n?Object(i.jsx)("a",{href:n,onClick:s,target:d?"_blank":null,rel:d?"noopener noreferrer":null,children:C}):C})}},Wer7:function(e,t,n){function o(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function r(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function a(e,t={},n={},o={}){return{type:"RESOURCE_PREFETCH",payload:{name:e,options:t,headers:o}}}function i(e,t={}){return{type:"RESOURCE_PREFETCH_READ",payload:{name:e,options:t}}}function l(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function c(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function s(e,t={},n,o,r,a,i=!1){return{type:"RESOURCE_FETCH_COMPLETE",payload:{auxData:o,data:n,isPrefetch:i,name:e,nextBookmark:a,options:t},error:r}}function u(e,t={},n,o,r,a){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{auxData:o,data:n,name:e,nextBookmark:a,options:t},error:r}}n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u}))},XRfM:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return p}));var o=n("Ye/N");const r=function(e,t){const n=t||0,o=Math.pow(10,n),r=+(n?e*o:e).toFixed(8),a=Math.floor(r),i=r-a,l=i>.5-1e-8&&i<.5+1e-8?a%2==0?a:a+1:Math.round(r);return n?l/o:l},a={AUD:"A$",BRL:"R$",CAD:"$",CZK:"KÄ",DKK:"kr",EUR:"â¬",GBP:"Â£",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$"},i=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function l(e,t,n,o,r,a,l){const c=function(e,t,n,o,r="symbol"){const a={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(a.style=n,"currency"===n&&(a.currency=o,a.currencyDisplay=r)),a}(n,o,r,a,l);return t.toLocaleString([i(e)?e:"en-US"],c)}function c(e,t,n){let a,i;const c=n&&n.style||void 0,s=n&&n.shortform||!1,u=n&&n.uplimit||void 0,d=n&&n.currency||void 0;if(u&&t>u)return u+"+";if("currency"===c?(a=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,i=void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(a=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,i=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),s&&t>999&&(a=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,i=0),a<i)return String(t);let b=t,h="";const p=[{"100M":{value:1e8,localeKey:o.a._("å","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:o.a._("ä¸","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],m=[{b:{value:1e9,localeKey:o.a._("b","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:o.a._("m","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:o.a._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],g=/^zh|ja|ko/.test(e);if(s&&t>999){const e=g?p:m;for(let n=0;n<e.length;n+=1){const o=Object.keys(e[n])[0],i=e[n][o].value;if(t>=i){b=r(t/i*Math.pow(10,a))/Math.pow(10,a),h=e[n][o].localeKey;break}}}return l(e,b,a,i,c,d||void 0)+h}const s={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"},u=function(e,t,n,o=!0){const r=function(e){switch(e){case s.YEAR:return{year:"numeric"};case s.LONG:return{year:"numeric",month:"long",day:"numeric"};case s.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case s.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case s.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case s.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case s.MONTH_DAY:return{month:"long",day:"numeric"};case s.SHORT_MONTH:return{month:"short"};case s.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case s.DAY:return{day:"numeric"};case s.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case s.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case s.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case s.TIME:return{hour:"numeric",minute:"2-digit"};case s.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case s.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);o&&(r.timeZone="UTC");return new Intl.DateTimeFormat(e,r).format(t)},d=function(e){return 1.1.toLocaleString(e).substring(1,2)},b=function(e,t){return","===d(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},h=function(e,t){return","===d(t)&&e?e.replace(",","."):e},p=function(e){switch(e){case"zh":return o.a._("Chinese","locale.languageName","Language name");case"cs":return o.a._("Czech","locale.languageName","Language name");case"da":return o.a._("Danish","locale.languageName","Language name");case"nl":return o.a._("Dutch","locale.languageName","Language name");case"en":return o.a._("English","locale.languageName","Language name");case"fi":return o.a._("Finnish","locale.languageName","Language name");case"fr":return o.a._("French","locale.languageName","Language name");case"de":return o.a._("German","locale.languageName","Language name");case"el":return o.a._("Greek","locale.languageName","Language name");case"hu":return o.a._("Hungarian","locale.languageName","Language name");case"id":return o.a._("Indonesian","locale.languageName","Language name");case"it":return o.a._("Italian","locale.languageName","Language name");case"ja":return o.a._("Japanese","locale.languageName","Language name");case"ko":return o.a._("Korean","locale.languageName","Language name");case"nb":return o.a._("Norwegian","locale.languageName","Language name");case"pl":return o.a._("Polish","locale.languageName","Language name");case"pt":return o.a._("Portuguese","locale.languageName","Language name");case"ro":return o.a._("Romanian","locale.languageName","Language name");case"ru":return o.a._("Russian","locale.languageName","Language name");case"sk":return o.a._("Slovak","locale.languageName","Language name");case"es":return o.a._("Spanish","locale.languageName","Language name");case"sv":return o.a._("Swedish","locale.languageName","Language name");case"tr":return o.a._("Turkish","locale.languageName","Language name");case"uk":return o.a._("Ukrainian","locale.languageName","Language name");default:return e}},m={DateFormatType:s,formatDate:u,ngettext:function(e,t,n,r){const a=+function(e){return o.a.getPluralFunction(e)}(e)(r);let i;return i="en-US"===e&&1===a?n:t,o.a._(i,"",a)},prettyNumberFormat:c,numberFormat:l,currencySymbols:a,localizeCurrencyValue:b,unlocalizeCurrencyValue:h};t.c=m},"Ye/N":function(e,t,n){Error;const o={_:e=>(process&&process.env,e),set(e){Object.assign(this,e)}};t.a=o},ZGc5:function(e,t,n){n.d(t,"a",(function(){return c}));var o=n("q1tI"),r=n("1c98"),a=n("yweb"),i=n("n6mq"),l=n("nKUr");function c({appConfig:e,panelOpen:t,togglePanel:n}){const c=Object(a.c)();return Object(l.jsxs)(o.Fragment,{children:[Object(l.jsx)(i.f,{position:"absolute",top:!0,left:!0,paddingX:4,dangerouslySetInlineStyle:{__style:{marginTop:16}},children:"authDesktop"===e.type&&Object(l.jsx)(i.w,{accessibilityLabel:c._("Back button","storyPin.closeup.back","Button label to navigate to previous page"),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e.onNavigateBack,size:"lg"})}),Object(l.jsx)(i.f,{position:"absolute",top:!0,right:!0,paddingX:4,dangerouslySetInlineStyle:{__style:{marginTop:16}},children:Object(l.jsx)(i.t,{gap:2,children:Object(l.jsx)(r.a,{open:t,onChange:n})})})]})}},ZVOf:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var o=n("eOdZ"),r=n("/X16");function a(e,t){return o.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function i(e,t){return{type:r.a.USER_FOLLOW,payload:{id:e,value:t}}}function l(e,t=null){return n=>{a(e,t).callCreate().catch(()=>n(i(e,!1))),n(i(e,!0))}}function c(e,t=null){return async n=>{n(i(e,!0)),await a(e,t).callCreate().catch(t=>{throw n(i(e,!1)),t})}}function s(e,t=null){return n=>{a(e,t).callDelete().catch(()=>n(i(e,!0))),n(i(e,!1))}}function u(e,t=null){return async n=>{n(i(e,!1)),await a(e,t).callDelete().catch(t=>{throw n(i(e,!0)),t})}}},eutt:function(e,t,n){n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return L}));var o=n("q1tI"),r=n("ZGc5"),a=n("NHZ2"),i=n("g1Cc"),l=n("1eP9"),c=n("qd2J"),s=n("rYoy"),u=n("q8wg"),d=n("hZxF"),b=n("Zswh"),h=n("P0Nc"),p=n("QAzJ"),m=n("y2Ga"),g=n("CbJb"),f=n("pf20"),j=n("OSge"),_=n("n6mq"),y=n("sH+O"),O=n("7jH2"),w=n("nKUr");const v=Object(o.lazy)(()=>n.e("CommentButton").then(n.bind(null,"FbbZ"))),x=Object(o.lazy)(()=>n.e("CreatorCardProfile").then(n.bind(null,"bTy4"))),E=Object(o.lazy)(()=>Promise.all([n.e(32),n.e(102),n.e("CloseupActionBarDropdown")]).then(n.bind(null,"6wCo"))),C=Object(o.lazy)(()=>n.e("StoryPinEndCard").then(n.bind(null,"ELU8"))),T=Object(o.lazy)(()=>Promise.all([n.e(32),n.e(68),n.e(102),n.e(146),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),S=Object(o.lazy)(()=>n.e("ReactionPickerContainer").then(n.bind(null,"2yVv"))),k=Object(o.lazy)(()=>n.e("IdeaPinSecondarySendButton").then(n.bind(null,"2Tv5"))),R=3,P=new _.s(5),I=new _.s(6),N=[5,6,2],A=e=>e.some(e=>{var t;return(null!==(t=e.blocks)&&void 0!==t?t:[]).some(e=>"story_pin_image_block"===e.type&&!!e.image||"story_pin_video_block"===e.type&&!!e.video)});function L({appConfig:e,isInFocus:t=!0,isInStream:n=!1,isStreamPanelOpen:L=!0,pin:F,storyPinData:U,goBack:D,onUpdate:M,viewType:B,viewParameterType:H}){var z;const K=Object(g.b)(),Y=Object(b.a)(),W=Object(f.b)(),Z=Object(m.c)(),q=Object(o.useRef)(null),{closeupPaneWidth:G,headerHeight:$,loadFonts:X,isLandingPage:V,renderStoryPinMediaLayout:J,renderStoryPinPage:Q,renderStoryPinSplitLayout:ee,renderStoryPinText:te,productPins:ne}=K||{},{id:oe}=F,{pages:re=[],metadata:ae={}}=U,{version:ie}=ae,[le,ce]=Object(o.useState)(0),[se,ue]=Object(o.useState)(!0),[de,be]=Object(o.useState)(V),[he,pe]=Object(o.useState)(!0),[me,ge]=Object(o.useState)(!1),[fe,je]=Object(o.useState)(375),_e=Object(o.useRef)(null),[ye,Oe]=Object(o.useState)(!1),[we,ve]=Object(o.useState)(!1),{anyEnabled:xe}=Object(p.b)("web_story_pin_earlier_render"),{anyEnabled:Ee}=Object(p.b)("web_story_pin_auto_advance"),Ce=re.filter(e=>!N.includes(e.layout)),Te=Ce.length,Se=Ce[le],ke=H||Object(O.d)(Object(O.r)({pin:F})),Re=$+64;Object(o.useEffect)(()=>{pe(L)},[L]);const Pe=()=>{if("undefined"!=typeof window){const e=window.innerWidth-(he?G:0)-216;je(Math.max(320,Math.min((window.innerHeight-Re)*j.d,e)))}};Object(d.a)(()=>(window.addEventListener("resize",Pe),Pe(),()=>{window.removeEventListener("resize",Pe)}));const[Ie,Ne]=Object(o.useState)(null),Ae=e=>{const t=re[e],{blocks:n}=t,o=null==n?void 0:n.find(e=>3===e.block_type);_e.current&&_e.current instanceof y.a&&(_e.current.clear(),_e.current=null),o?Ne({currentTime:0,duration:1}):(Ne({currentTime:0,duration:1}),Ee&&(_e.current=new y.a(e=>{Ne({currentTime:e<1?e:1,duration:1})},()=>{e<Te-1?Le(e+1):Oe(!0)},5e3)))};Object(d.a)(()=>(Ae(le),()=>{_e.current&&_e.current instanceof y.a&&_e.current.clear()}));Object(d.a)(()=>{Z&&(Z.addBinaryAnnotation("page.current.index",le,"I16"),Z.addBinaryAnnotation("page.count",re.length,"I16"),Z.addBinaryAnnotation("view.type",3,"I32"),Z.addBinaryAnnotation("view.parameter",ke,"I32"))});const Le=e=>{ue(!0),Oe(!1),Ae(e),ce(e),me||(Y({event_type:7588,view_type:3,view_parameter:157,object_id_str:oe}),ge(!0)),(e=>{Z&&Z.abort("startNewPwt"),W&&(W.abort("startNewPwt"),W.start(),W.addBinaryAnnotation("page.current.index",e,"I16"),W.addBinaryAnnotation("page.count",re.length,"I16"),W.addBinaryAnnotation("view.type",3,"I32"),W.addBinaryAnnotation("view.parameter",ke,"I32"))})(e)},Fe=()=>ye?13799:0===le?227:228,Ue=()=>{le<Te-1&&(Le(le+1),Y({event_type:101,view_type:3,component:Fe(),element:12261,object_id_str:oe}))},De=()=>{le===Te-1&&ye?(Le(le),Y({event_type:101,view_type:3,component:Fe(),element:12260,object_id_str:oe})):le>0&&(Le(le-1),Y({event_type:101,view_type:3,component:Fe(),element:12260,object_id_str:oe}))},Me=e=>{const{keyCode:t}=e,n=e.srcElement,o=n.isContentEditable||n.contentEditable&&"true"===n.contentEditable;37!==t||o?39!==t||o||Ue():De()};Object(o.useEffect)(()=>(document.addEventListener("keydown",Me),()=>document.removeEventListener("keydown",Me)),[le]);const[Be,He]=Object(o.useState)(!1),[ze,Ke]=Object(o.useState)(!!F&&A(re)),Ye=()=>{const e=re.reduce((e,t)=>{var n;const o=null===(n=t.blocks)||void 0===n?void 0:n.find(e=>["story_pin_paragraph_block","story_pin_heading_block"].includes(e.type));if("story_pin_paragraph_block"===(null==o?void 0:o.type)||"story_pin_heading_block"===(null==o?void 0:o.type)){var r;const t=(null===(r=o.style)||void 0===r?void 0:r.font)||j.b.font,{name:n=""}=t;e[n]||(e[n]=t)}return e},{});if(Object.keys(e).length>0){const t=Object.keys(e).map(t=>{const n=e[t];return Object(h.b)({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});X&&(X(t),He(!0))}};Object(d.a)(()=>{Ye(),xe||setTimeout(()=>Ke(!0),2e3)}),Object(d.a)(()=>{ze||(Ye(),xe||Ke(A(re)))}),Object(o.useEffect)(()=>{xe&&!ze&&Ke(A(re))},[xe,ze,re]);const We=ie?Object(y.b)(ie,"0.8.0"):null,Ze=null!=We&&We>=0,qe=e=>{Ee&&e===Te-1&&(Oe(!0),ue(!1)),Ee&&e===le&&Ue()},Ge=(e,t)=>{Ne({currentTime:e,duration:t})},$e=()=>{ve(!0),ue(!1),_e.current&&!_e.current.paused&&_e.current.pause()},Xe=t=>{var n,o;return re[t]?Ze?Q({activePageIndex:le,fontsLoaded:Be,isActive:t===le&&se,muteVideos:de,onChangeMuteVideo:be,onEnded:qe,onFlyoutOpen:$e,videoPinProgress:Ie,onUpdateVideoInfo:Ge,ownerId:null!==(n=null===(o=F.native_creator)||void 0===o?void 0:o.id)&&void 0!==n?n:"",page:re[t],pageIndex:t,pageWidth:fe,pin:F,pinId:F.id,productPins:ne,stillLoading:!ze}):(t=>{const n=0===t.layout;switch(t.layout){case 0:case 1:return J({activePageIndex:le,hideText:n,isActive:!0,isCoverPage:n,muteVideos:de,onClickThrough:e.onClickThrough,page:t,pageIndex:le,pageWidth:fe,pinId:oe});case 4:return t.blocks.length>0&&te({blocks:t.blocks,pageId:"text-"+le,page:t,pinId:oe,onClickThrough:e.onClickThrough});case 3:return ee({page:t});default:return null}})(Se):null},Ve=()=>{ye||(ve(!1),se?(ue(!se),_e.current&&_e.current.pause(),Y({component:13557,event_type:9324,view_parameter:ke,view_type:1,object_id_str:oe,aux_data:{story_pin_page_id:le}})):(ue(!se),_e.current&&_e.current.resume(),Y({component:13557,event_type:9323,view_parameter:ke,view_type:1,object_id_str:oe,aux_data:{story_pin_page_id:le}})))};Object(o.useEffect)(()=>{t&&se||Ve()},[t]);return Object(w.jsx)(u.a,{component:13557,view:3,viewParameter:ke,objectId:oe,children:Object(w.jsxs)(_.f,{left:!0,dangerouslySetInlineStyle:{__style:{top:$,height:`calc(100vh - ${$}px)`,position:"sticky",pointerEvents:"none",minHeight:632,zIndex:he?"auto":R}},display:"flex",children:[Object(w.jsxs)(_.f,{flex:"grow",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},color:"white",children:[Object(w.jsx)(_.f,{bottom:!0,color:"lightGray",left:!0,position:"absolute",right:!0,top:!0}),Object(w.jsx)(_.f,{width:1,height:1,position:"absolute",top:!0,left:!0,marginTop:-1,overflow:"hidden",children:(()=>{const e=[];for(let t=1;t<=3;t+=1)le+t<re.length&&e.push(Xe(le+t));return e})()}),Object(w.jsxs)(_.f,{display:"flex",alignItems:"center",position:"relative",children:[Object(w.jsx)(i.a,{dataTestId:"story-pin-closeup-previous",show:le>0,onClick:De,isPrevious:!0}),Object(w.jsxs)(_.f,{paddingX:4,children:[Object(w.jsxs)(_.f,{display:"flex",direction:"column",position:"absolute",width:"calc(100% - 128px)",zIndex:I,paddingX:4,dangerouslySetInlineStyle:{__style:he?{}:{backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"}},height:128,children:[Object(w.jsx)(_.f,{height:20,display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:Object(w.jsx)(l.a,{activePageIndex:le,onPageSelect:e=>Le(e),pageCount:Te,progressInfo:Ie,showEndCard:ye,isAutoAdvanceEnabled:Ee})}),!ye&&Object(w.jsxs)(_.f,{display:"flex",justifyContent:"between",children:[Object(w.jsx)(_.f,{children:F.native_creator&&!he&&(e=>{const{follower_count:t,full_name:n,image_medium_url:o,username:r}=e;return Object(w.jsx)(s.a,{children:Object(w.jsx)(x,{color:"white",followerCount:t,fullName:n,imageUrl:o,profileUrl:r?`/${r}/`:"/"})})})(F.native_creator)}),Object(w.jsxs)(_.f,{display:"flex",children:[Object(w.jsx)(a.a,{mute:de,onChangeMute:be}),!he&&Object(w.jsx)(s.a,{children:Object(w.jsx)(E,{goBack:D,onEditSubmit:M,pin:F,viewParameter:ke,iconColor:"white"})})]})]})]}),!ye&&Object(w.jsxs)(_.f,{display:"flex",height:128,position:"absolute",width:"calc(100% - 128px)",zIndex:I,padding:4,dangerouslySetInlineStyle:{__style:he?{}:{backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0}},alignItems:"end",justifyContent:"between",children:[Object(w.jsxs)(_.f,{display:"flex",direction:"row",children:[!he&&Object(w.jsx)(s.a,{children:Object(w.jsx)(k,{pin:F,shareButtonRef:q})}),!he&&F.is_eligible_for_aggregated_comments&&Object(w.jsx)(s.a,{children:Object(w.jsx)(v,{onCommentClick:()=>{pe(!0);const e=document.getElementById("canonical-card");e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})}),!he&&Object(w.jsx)(s.a,{children:Object(w.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"},children:Object(w.jsx)(S,{component:13801,iconColor:"white",pinId:F.id,reactionByMe:F.reaction_by_me,shouldShowReactionTrayUp:!0,showTooltip:!0,viewParameter:ke,viewType:1})})})]}),!he&&Object(w.jsx)(s.a,{children:Object(w.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"},children:Object(w.jsx)(T,{pin:F,size:"lg",onClickCallback:()=>{Y({event_type:101,...B?{view_type:B}:void 0,view_parameter:ke,component:13801,element:0,object_id_str:F.id})}})})})]}),Object(w.jsx)(_.bb,{onTap:Ve,rounding:8,disabled:ye,children:Object(w.jsxs)(_.f,{position:"relative",rounding:8,overflow:"hidden",width:fe,height:fe/j.d,children:[Xe(le),!ye&&!we&&Ee&&Object(w.jsx)(c.a,{playing:se}),"authDesktop"===e.type&&ye&&F.native_creator&&Object(w.jsx)(s.a,{children:Object(w.jsx)(_.f,{rounding:8,padding:4,zIndex:P,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:Object(w.jsx)(C,{creatorName:null!==(z=F.native_creator.username)&&void 0!==z?z:"",watchAgain:()=>{Le(0)},restartLastPage:()=>{Le(Te-1)}})})})]})})]}),Object(w.jsx)(i.a,{dataTestId:"story-pin-closeup-next",show:le<Te-1,onClick:Ue})]}),!n&&Object(w.jsx)(r.a,{appConfig:e,panelOpen:he,togglePanel:()=>pe(!he)})]}),he&&Object(w.jsx)(_.f,{width:G,height:"100%",flex:"none",position:"relative",children:"duplo"===e.type&&e.storyPinDetails})]})})}},fc1g:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),r=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},nGHF:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l}));var o=n("1dBE");const{Provider:r,Consumer:a,useHook:i,HOC:l}=Object(o.a)("toastManagerContext")},oRao:function(e,t,n){var o=n("XRfM"),r=n("pLLR"),a=n("nKUr");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:i,shortformMaximumFractionDigits:l,formatStyle:c,uplimit:s,value:u})=>Object(a.jsx)(r.b,{children:r=>Object(o.g)(r.locale||"en-US",u,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:i,shortform_maximum_fraction_digits:l,style:c,uplimit:s})})},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return r}));var o=n("/MKj");function r(){return Object(o.useSelector)(({viewer:e})=>e)}},vvax:function(e,t,n){var o=n("qpbZ");n.d(t,"b",(function(){return o.b})),n.d(t,"a",(function(){return o.a}))},w70y:function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var o=n("q1tI"),r=n("/MKj"),a=n("lSCD"),i=n.n(a),l=n("hZxF"),c=n("aK+E"),s=n("EC67"),u=n("Wer7"),d=n("nKUr");const b={};function h({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:a,options:i,name:d,headers:h}){const p=Object(r.useDispatch)(),m=Object(c.a)(i),g=Object(o.useRef)(),f=e=>(e[d]||b)[m]||b,{isPrefetch:j,nextBookmark:_,prefetchHasBeenRead:y}=Object(r.useSelector)(({resources:e})=>f(e.data)),O=Object(r.useSelector)(({resources:e})=>f(e.data).data),w=Object(r.useSelector)(({resources:e})=>f(e.data).auxData),v=Object(r.useSelector)(({resources:e})=>f(e.data).error),x=Object(r.useSelector)(({resources:e})=>Boolean((e.fetching[d]||b)[m])),E=Object(r.useSelector)(({resources:e})=>Boolean((e.data[d]||b)[m])),C=Object(s.h)(),T=C&&"POP"!==C.action,S=Boolean(E&&n&&T&&!a),[k,R]=Object(o.useState)(S);void 0===g.current&&E&&T&&e&&j&&!y&&!a&&p(Object(u.h)(d,i));const P=Object(o.useCallback)(()=>{a||p(Object(u.a)(d,i,h))},[a,p,h,d,m]),I=Object(o.useCallback)(()=>{a||p(Object(u.d)(d,i,h))},[a,h,d,m]),N=Object(o.useCallback)(()=>{a||(P(),R(!0))},[a,P,R]),A=Object(o.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:I,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refreshData:N});Object(l.a)(()=>{!1!==t&&E&&!S||P()}),Object(o.useEffect)(()=>{void 0!==g.current&&m!==g.current&&P(),g.current=m},[P,m]);const L={auxData:w,data:O,error:v,fetchMore:I,isAtEnd:E&&!x&&"-end-"===_,isFetching:x,isLoaded:E,isPrefetch:j,isRefreshing:k,nextBookmark:_,prefetchHasBeenRead:y,refreshData:N};return Object(r.shallowEqual)(L,A.current)||(!k||!A.current.data&&S||Object(r.shallowEqual)(L.data,A.current.data)||(L.isRefreshing=!1,R(!1)),A.current=L),A.current}function p(e){const t=e.key;return function(n){function o(o){const{dangerouslyDisableFetch:r,options:a,key:l,...c}=e,s=h({...c,options:(i()(a)?a(o):a)||{},dangerouslyDisableFetch:!!r&&r(o)}),u={[t]:s};return Object(d.jsx)(n,{...o,...u})}return o.displayName=`withResource[${e.name}](${n.displayName||n.name||""})`,o.WrappedComponent=n,o}}}},0,[32,68,102,146,"PinSaveButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/592-722528a3af4ce9b8f26d.mjs.map