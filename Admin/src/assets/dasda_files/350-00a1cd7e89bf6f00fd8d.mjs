(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[350,40,49,"authHandshakeUtils"],{"+6dQ":function(e,t,n){var i=n("28DW"),o=n("D2p8");t.a=e=>{o.c.resume(o.b),Object(i.a)("web.dismiss_account_switcher."+e)}},"+Der":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("QLqj"),o=n("kmwA");function r(e,t){return e.some(e=>e.id===t.id)}function a(e){const t=[];if(e){const n=72e5,i=Date.now()-n;for(const o of e)o.ts>=i&&("string"==typeof o.image_signature&&t.push(o.image_signature),"string"==typeof o.first_pin_image_signature&&t.push(o.first_pin_image_signature))}return t}function s(){return{plpImages:a(i.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")||[]),blpImages:a(i.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin")||[])}}function c(e){const t=e.url;return(null!=t?t:"").split("/").pop().replace(/(--.*|\.jpg)$/g,"")}function l(e,t){const n=o.a.settings.EU_COUNTRIES_2020_COOKIE_POLICY;return!n.includes(e)&&n.includes(t)?{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}:{}}},"/lhQ":function(e,t,n){t.a=e=>0===e.trim().length},"0Bqi":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("SCuf"),o=n("MKeS"),r=n("YI5+"),a=n("yweb"),s=n("n6mq"),c=n("nKUr"),l=n.n(c);const d=Object(o.a)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("FullPageSignup").then(n.bind(null,"CRJj")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"CRJj"}});function u(e){const t=Object(a.c)();return Object(c.jsx)(r.a,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",flex:"grow","data-test-id":"account-switcher-modal",children:Object(c.jsx)(d,{fallback:Object(c.jsx)(i.a,{}),container:e.container,email:e.email,isAccountSwitch:!0,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,type:"login",signupSource:"login",customLoginTagline:e.customTaglineText||t._("Add account","Short text on the button that allows a user to log in to another Pinterest account","Short text on the button that allows a user to log in to another Pinterest account")})})})}},"0G5S":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},o=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},r=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},"2y2F":function(e,t,n){function i(e){return"US"===e||"GB"===e||"UK"===e}function o(e){return"US"===e}function r(e){return"JP"===e}function a(e){return"GB"===e||"UK"===e}function s(e){return 1===e||2===e||"US"===e||"GB"===e}function c(e){return 1===e||"US"===e}n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c}))},"4O/9":function(e,t,n){var i=n("Sxd8");e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=i(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},"573u":function(e,t,n){n.d(t,"a",(function(){return o}));const i=!("undefined"==typeof window||!window.performance||!window.performance.now);function o(e,t,n){this.category=e,this.variable=t,this.label=n,this.startTime,this.elapsedTime}function r(){return i?window.performance.now():Date.now()}function a(){this.timers={}}o.prototype.start=function(){return this.startTime=r(),this},o.prototype.end=function(){return this.elapsedTime=Math.round(r()-this.startTime),this.startTime=i?Math.round(this.startTime):null,this},o.prototype.getCompletedTime=function(){return this.elapsedTime},o.prototype.send=function(){if(this.elapsedTime>0&&this.elapsedTime<6e5){const{category:e,variable:t,label:i,elapsedTime:o}=this;Promise.resolve().then(n.bind(null,"rh3l")).then(({default:n})=>{n.logToServer(n.SERVER_LOG_TYPE.INTERACTION_TIMING,n.HTTP_METHOD.POST,{category:e,variable:t,label:i,time:o})})}return this},a.prototype.start=function(e,t,n,...i){const r=Array.prototype.slice.call([e,t,n,...i],0,2).join(":"),a=new o(e,t,n).start();this.timers[r]=a},a.prototype.end=function(e,t,n){const i=e+":"+t,o=this.timers[i];return o&&(o.end(),n&&o.send(),delete this.timers[i]),o};new a},"9kUC":function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(()=>null)},ARZW:function(e,t,n){n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return v}));var i=n("7w6Q"),o=n("kmwA"),r=n("ZNVR"),a=n("0G5S");const{ADMO_TV_WEB_PIXEL_URL:s,ADMO_TV_LOGIN_EVENT_PIXEL_URL:c,ADMO_TV_REGISTRATION_EVENT_PIXEL_URL:l,ADMO_TV_BILLING_ACCOUNT_CONVERSION_EVENT_PIXEL_URL:d}=o.a.settings,u="admo-tv-d-ses",b="admo-tv-m-ses",g="admo-tv-d-login",f="admo-tv-m-login",h="admo-tv-d-reg",m="admo-tv-m-reg",p="admo-tv-d-billing",_="admo-tv-m-billing",j={"admo-tv-d-login":c,"admo-tv-m-login":c,"admo-tv-d-reg":l,"admo-tv-m-reg":l,"admo-tv-d-billing":d,"admo-tv-m-billing":d};function O(e,t){i.a.increment("admo_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==t&&i.a.increment("admo_tracking_pixel",1,{event_category:e,event_name:t})}function x(){for(const t of Object.keys(j)){let n=Object(a.a)(t);if(n){var e;const i=Object(r.a)({src:j[t],id:t,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});null===(e=document.body)||void 0===e||e.appendChild(i),n=n.split("#");const[o,s]=n;O(o,s),Object(a.b)(t)}}}function w(e,t){function n(e,t){var n;const i=Object(r.a)({src:s,id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});null===(n=document.body)||void 0===n||n.appendChild(i),t(),x()}document.getElementById(e)?x():("complete"===document.readyState&&n(e,t),window.addEventListener("load",function e(t,i){return o=>{n(t,i),window.removeEventListener(o,e)}}(e,t)))}function y(e,t,n){j[e]&&Object(a.c)(e,`${t}#${n}`)}function S(e,t,n){return i=>{y(e,t,n),window.removeEventListener(i,S)}}function v(e,t,n){"complete"===document.readyState?y(e,t,n):window.addEventListener("load",S(e,t,n))}},AXUD:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=412,o=429},AYc3:function(e,t,n){n.d(t,"d",(function(){return A})),n.d(t,"f",(function(){return N})),n.d(t,"b",(function(){return R})),n.d(t,"l",(function(){return P})),n.d(t,"h",(function(){return D})),n.d(t,"e",(function(){return U})),n.d(t,"k",(function(){return B})),n.d(t,"c",(function(){return G})),n.d(t,"m",(function(){return M})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return z})),n.d(t,"a",(function(){return F})),n.d(t,"g",(function(){return W}));var i=n("7w6Q"),o=n("0G5S");var r=n("aldu"),a=n("kmwA"),s=n("ZNVR");const{FLASHTALKING_DWEB_SESSION_PIXEL_START:c,FLASHTALKING_DWEB_SESSION_PIXEL_END:l,FLASHTALKING_MWEB_SESSION_PIXEL_START:d,FLASHTALKING_MWEB_SESSION_PIXEL_END:u,FLASHTALKING_DWEB_LOGIN_PIXEL_START:b,FLASHTALKING_DWEB_LOGIN_PIXEL_END:g,FLASHTALKING_MWEB_LOGIN_PIXEL_START:f,FLASHTALKING_MWEB_LOGIN_PIXEL_END:h,FLASHTALKING_DWEB_REGISTER_PIXEL_START:m,FLASHTALKING_DWEB_REGISTER_PIXEL_END:p,FLASHTALKING_MWEB_REGISTER_PIXEL_START:_,FLASHTALKING_MWEB_REGISTER_PIXEL_END:j,FLASHTALKING_DWEB_BUSINESS_PIXEL_START:O,FLASHTALKING_DWEB_BUSINESS_PIXEL_END:x}=a.a.settings,w={"flashtalking-d-ses":[c,l],"flashtalking-m-ses":[d,u],"flashtalking-d-login":[b,g],"flashtalking-m-login":[f,h],"flashtalking-d-reg":[m,p],"flashtalking-m-reg":[_,j],"flashtalking-bus":[O,x]},y=["flashtalking-d-login","flashtalking-m-login","flashtalking-d-reg","flashtalking-m-reg"];function S(e,t){i.a.increment("flashtalking_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==t&&i.a.increment("flashtalking_tracking_pixel",1,{event_category:e,event_name:t})}function v(){for(const t of y){let n=Object(o.a)(t);if(n){var e;const i=Object(s.a)({src:w[t][0]+Object(s.d)()+w[t][1],id:t,height:1,width:1,style:"display:none;"});null===(e=document.body)||void 0===e||e.appendChild(i),n=n.split("#");const[r,a]=n;S(r,a),Object(o.b)(t)}}}function E(e,t){function n(e,t){var n;const i=Object(s.a)({src:w[e][0]+Object(s.d)()+w[e][1],id:e,height:1,width:1,style:"display:none;"});null===(n=document.body)||void 0===n||n.appendChild(i),t(),v()}document.getElementById(e)?v():("complete"===document.readyState&&n(e,t),window.addEventListener("load",function e(t,i){return o=>{n(t,i),window.removeEventListener(o,e)}}(e,t)))}function I(e,t,n,i){y.find(t=>t===e)?Object(o.c)(e,`${t}#${n}`):E(e,i)}function T(e,t,n,i){return o=>{I(e,t,n,i),window.removeEventListener(o,T)}}var k=n("looy"),L=n("ARZW"),C=n("sYwW");function A(){Object(C.a)(),Object(C.b)("PageView",()=>{i.a.increment("fb_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"})}),Object(C.b)("ViewContent",()=>{i.a.increment("fb_tracking_pixel",1,{event_category:"ViewContent",event_name:"AuthViews"})})}function N(){!function(){function e(){const e=document.createElement("script");function t(){dataLayer.push(arguments)}e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158",e.async=!0,document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],t("js",new Date),t("config","AW-819016158"),t("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&e(),window.addEventListener("load",e)}()}function R(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&(Object(o.a)("dpm_pixel_login_event")?Object(k.b)(t,n,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})}):Object(k.b)(t,n,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})}))}}function P(e){if(e){const t=e.unauthId;t&&Object(k.c)(t,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})})}}function D(e){if(e){const t=e.pixelId,n=e.userId?e.userId:"",o=e.eventCategory,r=e.eventName;t&&o&&r&&Object(k.d)(t,n,o,r,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:o,event_name:"All"}),"All"!==r&&i.a.increment("dpm_tracking_pixel",1,{event_category:o,event_name:r})})}}function U(e){if(e){const t=e.id,n=e.eventName;t&&n&&E(t,()=>{i.a.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:n})})}}function B(e){if(e){const t=e.id,n=e.eventCategory,o=e.eventName;t&&n&&o&&function(e,t,n,i){"complete"===document.readyState?I(e,t,n,i):window.addEventListener("load",T(e,t,n,i))}(t,n,o,()=>{i.a.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:"All"}),"All"!==o&&i.a.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:o})})}}function G(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&Object(r.b)(t,n,()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})})}}function M(e){if(e){const t=e.unauthId;t&&Object(r.d)(t,()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"})})}}function V(e){if(e){const t=e.pixelId,n=e.eventCategory,i=e.eventName;t&&n&&i&&Object(r.e)(t,n,i)}}function z(){Object(r.c)(()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageViews (Facebook)",event_name:"AllViews"})})}function F(e){if(e){const t=e.id,n=e.eventName;t&&n&&Object(L.i)(t,()=>{i.a.increment("admo_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("admo_tracking_pixel",1,{event_category:"PageView",event_name:n})})}}function W(e){if(e){const t=e.id,n=e.eventCategory,i=e.eventName;t&&n&&i&&Object(L.j)(t,n,i)}}},CzMn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("QLqj");function o(){return function(e){const t={};return e.forEach(e=>{const n=i.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)}),JSON.stringify(t)}(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}},HZII:function(e,t,n){var i=n("4O/9");e.exports=function(e){return i(2,e)}},IDoE:function(e,t,n){var i=n("xGpI");t.a=()=>Object.keys(Object(i.a)()).length},IZzd:function(e,t,n){var i=n("TPPM"),o=n("PioT");let r;const a={},s={};s[o.a.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},s[o.a.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},s[o.a.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!0},s[o.a.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},s[o.a.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},s[o.a.EDGE]={url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0},a.handleExtensionInstall=e=>{const t=function(){const e=o.b.getBrowser();return e?s[e].url:void 0}();t&&(Object(i.a)(t,function(){const e=o.b.getBrowser();return e?s[e].newWindow:void 0}()),e())},a.isExtensionInstalled=()=>r,a.isChrome=()=>o.b.getBrowser()===o.a.CHROME,a.isBrowserExtensionSupported=()=>o.b.isChrome()||o.b.isFirefox()||o.b.isEdge(),a.extensionReady=(e=100)=>new Promise(t=>{setTimeout(()=>{document.body&&(r=document.body.hasAttribute("data-pinterest-extension-installed"),o.b.getBrowser()===o.a.OTHER&&(r=!0),t(r))},e)}),a.initBrowserExtension=()=>{Promise.resolve().then(n.bind(null,"rh3l")).then(({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:r})})},t.a=a},J2m7:function(e,t,n){var i=n("XKAG")(n("UfWW"));e.exports=i},J8m7:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return h})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return O})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return y})),n.d(t,"y",(function(){return S})),n.d(t,"A",(function(){return v})),n.d(t,"z",(function(){return E})),n.d(t,"B",(function(){return I})),n.d(t,"C",(function(){return T})),n.d(t,"p",(function(){return k})),n.d(t,"i",(function(){return L})),n.d(t,"D",(function(){return C})),n.d(t,"b",(function(){return A}));const i=101,o=93,r=9,a=8,s=16,c=12,l=18,d=105,u=79,b=78,g=77,f=76,h=1402,m=85,p=82,_=88,j=1201,O=86,x=30,w=84,y=83,S=2901,v=2904,E=2905,I=95,T=19,k=113,L=91,C=[a,r],A=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[d,"FACEBOOK_ACCOUNT_NOT_LINKED"],[c,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[s,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[g,"INVALID_PASSWORD_FB_USER"],[b,"INVALID_PASSWORD_ERROR_CODE"],[u,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[p,"LOGIN_DEACTIVATED_USER"],[y,"LOGIN_POLICY_VIOLATION_USER"],[m,"AUTO_PASSWORD_RESET_ERROR_CODE"],[O,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[o,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[a,"API_LIMIT_EXCEEDED_ERROR"],[r,"API_EVENT_BLOCKED_ERROR"],[T,"USER_IN_SAFE_MODE"],[w,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[m,"LOGIN_BAD_PASSWORD_ASK_RESET"],[j,"LOGIN_MFA_REQUIRED"],[x,"LOGIN_USER_NOT_FOUND"],[_,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[S,"SAR_DOWNLOAD_LIMIT"],[v,"SAR_EMAIL_UNVERIFIED"],[E,"SAR_EMAIL_MISSING"]])},KwMD:function(e,t){e.exports=function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},Ncr9:function(e,t,n){var i=n("TPPM"),o=n("XdLN"),r=n("28DW");t.a=e=>{Object(o.a)(e)||(e="/",Object(r.a)("url_reset")),Object(i.a)(e,!1)}},NwVv:function(e,t,n){var i=n("ipvL"),o=n("bBqG");t.a=(e,t,n)=>{const r=i.a.getAccountsJSON();r[e.id]=(e=>{const t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||Object(o.a)("utils.incomplete_user_values"),e.partner&&e.partner.is_create?{...t,partner:{is_create:e.partner.is_create}}:t})(e),i.a.setAccounts(JSON.stringify(r)),t&&n&&Object(o.a)("new_account_add_success",{method:t,user_added:e.id},n)}},OCob:function(e,t,n){var i=n("+NLT");t.a=()=>({referrer:i.a.instance.referrer,facebookToken:i.a.instance.facebook_token,unauthId:i.a.instance.unauth_id,origin:i.a.instance.origin,appType:i.a.instance.app_type})},SCuf:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),o=n("n6mq"),r=n("nKUr");function a(){const e=Object(i.c)();return Object(r.jsx)(o.f,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(r.jsx)(o.U,{accessibilityLabel:e._("Loading signup form"),show:!0})})}},UfWW:function(e,t,n){var i=n("KwMD"),o=n("ut/Y"),r=n("Sxd8"),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:r(n);return c<0&&(c=a(s+c,0)),i(e,o(t,3),c)}},VL22:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("kmwA");const o={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",LINE:"line",EMAIL:"email",OTHER:"other"},r=e=>e.facebook_id?o.FACEBOOK:e.google_open_id_token?o.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?o.GOOGLE:e.line_id_token?o.LINE:e.email?o.EMAIL:o.OTHER,a=(e="")=>e in i.a.settings.MINIMUM_AGE_BY_EU_COUNTRY,s=e=>i.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||i.a.settings.LATAM_AGE_COLLECTION.has(e)},XKAG:function(e,t,n){var i=n("ut/Y"),o=n("MMmD"),r=n("7GkX");e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var c=i(n,3);t=r(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},"YI5+":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("ihsa"),o=n("28DW"),r=n("yweb"),a=n("n6mq"),s=n("nKUr");const c={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}};function l(e){const t=Object(r.c)(),n=e=>{Object(o.a)("unauth.account_switcher_modal."+e)},{renderContent:l}=e;return Object(s.jsxs)("div",{style:c.mask,children:[Object(s.jsx)(i.a,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),Object(s.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n("empty_space_click");const{onCloseClick:t}=e;t()},role:"dialog",style:c.scroller,children:Object(s.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:c.modalContainer,children:[l(),Object(s.jsx)("button",{"aria-label":t._("close","accessible label for close button","accessible label for close button"),onClick:()=>{n("close_button_click");const{onCloseClick:t}=e;t()},style:c.closeButton,children:Object(s.jsx)(a.v,{accessibilityLabel:t._("close","accessible label for close button","accessible label for close button"),color:"white",icon:"cancel",inline:!0})})]})})]})}},ZNVR:function(e,t,n){n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return _}));var i=n("7w6Q"),o=n("kmwA"),r=n("aldu"),a=n("looy"),s=n("0G5S");const c={dpm:["dpm_pixel_login_event","dpm_pixel_new_user_event"],dentsu:["dentsu_pixel_login_event","dentsu_pixel_new_user_event"]},l=o.a.settings.DATA_PLUS_MATH_EVENT_PIXEL;function d(e,t,n){i.a.increment(e+"_tracking_pixel",1,{event_category:t,event_name:"All"}),"All"!==n&&i.a.increment(e+"_tracking_pixel",1,{event_category:t,event_name:n})}const u=()=>(1e6*Math.random()).toString();function b(e){const t=document.createElement("iframe");for(const n in e)t.setAttribute(n,e[n]);return t}function g(e,t,n){const i=document.createElement("img"),{dpmUserIdString:o,dentsuUserIdString:s}=n;let c="";return o?c=Object(a.a)({origin:l,pixelEvent:t,userIdString:o}):s&&(c=Object(r.a)(s,t)),i.height=1,i.width=1,i.style.display="none",i.id=e,i.src=c,i}function f(e,t,n,i,o,r="",a,l){const u=document.getElementById(t),b=document.getElementById(n);async function f(e,t,n,i,o,r,a){const u=document.getElementById(i)?document.getElementById(i):document.createElement("div"),b=document.createElement("img");b.height=1,b.width=1,b.style.display="none",b.id=t,b.src=o,u&&(u.id=i,u.appendChild(b));for(const l of c[a]){let e=Object(s.a)(l);if(e){const t={dentsuUserIdString:"",dpmUserIdString:""};t["dentsu"===a?"dentsuUserIdString":"dpmUserIdString"]=r,e=e.split("#");const[n,i,o]=e,c=g(l,n,t);u&&(u.appendChild(c),d(a,i,o)),Object(s.b)(l)}}var f;u&&(null===(f=document.body)||void 0===f||f.insertBefore(u,document.body.firstChild),l())}u||(b&&b.remove(),"complete"===document.readyState&&f(0,t,0,i,o,r,a),window.addEventListener("load",function e(t,n,i,o,r,a,s){return t=>{f(0,n,0,o,r,a,s),window.removeEventListener(t,e)}}(0,t,0,i,o,r,a)))}function h(e,t,n,i,o){function r(e,t,n,i){const r=document.getElementById(n)?document.getElementById(n):document.createElement("div"),a=document.createElement("img");var s;(a.height=1,a.width=1,a.style.display="none",a.id=t,a.src=i,r)&&(r.id=n,r.appendChild(a),null===(s=document.body)||void 0===s||s.insertBefore(r,document.body.firstChild),o())}document.getElementById(t)||("complete"===document.readyState&&r(0,t,n,i),window.addEventListener("load",function e(t,n,i,o){return t=>{r(0,n,i,o),window.removeEventListener(t,e)}}(0,t,n,i)))}function m(e){const{pixelId:t,divId:n,url:i,eventCategory:o,eventName:r,onSendPixelSuccess:a}=e;let c;if(-1!==t.indexOf("login")?c="web_login":-1!==t.indexOf("new_user")&&(c="web_new_user"),c)Object(s.c)(t,`${c}#${o}#${r}`);else if("web_billing_complete"===t&&i){const e=document.getElementById(n)?document.getElementById(n):document.createElement("div"),t=document.createElement("img");var l;if(t.height=1,t.width=1,t.style.display="none",t.id="web_billing_complete",t.src=i,!document.getElementById(n))if(e)e.id=n,e.appendChild(t),null===(l=document.body)||void 0===l||l.insertBefore(e,document.body.firstChild),a&&a()}}function p(e,t,n,i,o,r){return a=>{m({pixelId:e,divId:t,url:n,eventCategory:i,eventName:o,onSendPixelSuccess:r}),window.removeEventListener(a,p)}}function _(e){const{pixelId:t,divId:n,url:i,eventCategory:o,eventName:r,onSendPixelSuccess:a}=e;"complete"===document.readyState?m({pixelId:t,divId:n,url:i,eventCategory:o,eventName:r,onSendPixelSuccess:a}):window.addEventListener("load",p(t,n,i,o,r,a))}},aldu:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return f}));var i=n("i2ZS"),o=n("kmwA"),r=n("ZNVR");const a=o.a.settings.DENTSU_STADIA_PIXEL,s="dentsu_images",c="ds_pixel_unauth",l="PageView";function d(e,t){const n=new URL(a+document.URL);return n.searchParams.set("c3",t),n.searchParams.set("c4",e),n.searchParams.set("c7",Object(r.d)()),n.toString()}async function u(e,t,n){const o=e+"*"+("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await Object(i.a)(t):""),a=d(o,l);Object(r.b)(e,"ds_pixel_auth",c,s,a,o,"dentsu",n)}async function b(e,t){const n=d(e,l);Object(r.c)(e,c,s,n,t)}function g(e,t,n){Object(r.e)({pixelId:e,divId:s,eventCategory:t,eventName:n})}function f(e){function t(){const t=Object(r.a)({src:"https://"+location.hostname+"/_/_/pixel/fb-dentsu-jp.html",id:"dentsuFBPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(t),t.contentWindow.addEventListener("load",()=>window._sendFacebookPixel=t.contentWindow.fbq),e()}document.getElementById("dentsuFBPixel")||("complete"===document.readyState&&t(),window.addEventListener("load",t))}},b7nI:function(e,t,n){var i=n("yweb"),o=n("n6mq"),r=n("nKUr");const a=()=>{const e=Object(i.c)();return Object(r.jsx)(o.U,{accessibilityLabel:e._("Loading","Label for loading spinner","Label for loading spinner"),show:!0})};t.a=()=>Object(r.jsxs)(o.f,{children:[Object(r.jsx)(o.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:1,dangerouslySetInlineStyle:{__style:{zIndex:101}},children:Object(r.jsx)(a,{})}),Object(r.jsx)(o.f,{color:"white",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:.7,dangerouslySetInlineStyle:{__style:{zIndex:100}}})]})},bBqG:function(e,t,n){var i=n("IDoE"),o=n("ipvL"),r=n("zRck"),a=n("28DW"),s=n("7Cbv");t.a=(e,t,n)=>{let c=o.a.getGroupId();c||(c=(()=>{const e=Object(s.a)();return Object(a.k)("web_account_switcher.utils.group_created",{group_id:e,group_count:Object(i.a)()}),e})(),o.a.setGroupId(c));const l={group_count:Object(i.a)()};let d="";n&&(d=n===r.c?"modal.":"flyout."),Object(a.k)(`web_account_switcher.${d}${e}`,Object.assign({},t,l))}},dish:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("QLqj");const o=()=>i.b.localStorage.getItem("uoiou")||!1,r=e=>{i.b.localStorage.setItem("uoiou",!!e)}},gYog:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("/MKj"),r=(n("T+9/"),n("6/Sz")),a=n("D2p8"),s=n("U4JR");n("QAzJ"),n("nKUr");const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};function l({closeupImpressionType:e,closeupNavigationType:t,componentType:n,contextLogData:l,elementType:d,impressionAuxFields:u,inImpressionExp:b,impressionType:g,impressionsFramework:f,isPaused:h,loggingId:m,objectIdStr:p,slotIndex:_,trackCarousel:j,viewData:O,viewParameter:x,viewType:w}){const y=Object(o.useSelector)(({pins:e})=>e),S=Object(r.a)(y[m||""]||{}),v=f||a.c,E=Object(i.useRef)(null),I=i=>{const o=c[g],r=o.idType,a={endTime:i.endTime,[r]:m,slotIndex:_,time:i.startTime,renderDuration:i.endTime-i.startTime,type:e,...u,forcedExit:"removed"===i.forcedExit?0:void 0},b={component:n,objectIdStr:p,view:w,viewData:O||{},viewParameter:x,...l};if(j){if(S){var f,h,y;Object(s.b)(7352,{eventData:{pinCarouselSlotImpressions:[{...a,carouselDataId:Number(S.id),carouselSlotId:(null===(f=S.carousel_slots)||void 0===f?void 0:f[null!==(h=S.index)&&void 0!==h?h:0])&&Number(S.carousel_slots[null!==(y=S.index)&&void 0!==y?y:0].id),slotIndex:S.index}]},...b})}}else Object(s.b)(o.eventType,{closeup_navigation_type:t,element:d,eventData:{[o.impressionType]:[a]},...b})},T=Object(i.useCallback)(()=>{try{E.current instanceof HTMLElement&&v.start(E.current).onExitViewport(I).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[E.current]);Object(i.useEffect)(()=>(b&&!v.inExperiment&&v.setExperimentStatus(!0),h||T(),()=>{E.current instanceof HTMLElement&&v.stop(E.current)}),[T]);const k=Object(i.useRef)(h);return Object(i.useEffect)(()=>{k.current&&!h&&T(),k.current=h},[h,T]),E}const d=({children:e,...t})=>e({impressionTrackerRef:l(t)})},i2ZS:function(e,t,n){async function i(e){if("undefined"==typeof TextEncoder)return"";const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}n.d(t,"a",(function(){return i}))},ipvL:function(e,t,n){var i=n("0G5S"),o=n("zRck");const r=e=>"undefined"!=typeof window?Object(i.a)(e):null,a=(e,t)=>{"undefined"!=typeof window&&Object(i.c)(e,t)},s={getAccounts:()=>r(o.o),getAccountsJSON:()=>s.getAccounts()?JSON.parse(s.getAccounts()):{},getGroupId:()=>{const e=r(o.p);return e?JSON.parse(e):null},setAccounts:e=>a(o.o,e),setGroupId:e=>a(o.p,JSON.stringify(e))};t.a=s},kJuv:function(e,t,n){var i=n("gxu6"),o=n("eOdZ"),r=n("QLqj"),a=n("kmwA"),s=n("ARZW"),c=n("J8m7"),l=n("sv3x"),d=n("AXUD"),u=n("dish"),b=n("OX7c"),g=n("28DW"),f=n("AYc3"),h=n("2y2F"),m=n("yM2L");const p=function(e,t,n="",i=!1){let o="referrer_unknown";try{const e=document.referrer;o=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(m){}const r=Object(l.c)(e),a=t===Object(t)?t.hybridTier:"tier_unknown",c=t===Object(t)?t.container:"container_unknown";Object(g.a)("login.referrer."+o+"."+r),Object(g.a)("login.container."+c+"."+r),Object(g.a)("login.type."+r);const d=Object(l.c)(e)||"method_unknown",u=t.page||"page_unknown";e.gplus_autologin?i?(Object(g.a)("mweb_autologin.google_success"),Object(g.l)("new_mweb_autologin_google",{page:u,referrer:o,container:c,hybridTier:a})):(Object(g.a)("web_autologin_google"),Object(g.l)("new_web_autologin_google",{page:u,referrer:o,container:c,hybridTier:a})):e.facebook_autologin?(Object(g.a)("web_autologin_facebook"),Object(g.l)("new_web_autologin_facebook",{page:u,referrer:o,container:c,hybridTier:a})):(Object(g.a)(`web_login.${d}.success.${u}.${c}.${o}.${a}`),Object(g.l)(`new_web_login.${d}.success`,{page:u,referrer:o,container:c,hybridTier:a})),Object(h.a)(n)&&Object(f.g)({id:s.b,eventCategory:"Logins",eventName:"Desktop"}),Object(h.f)(n)&&Object(f.k)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),Object(h.c)(n)&&Object(f.h)({pixelId:"dpm_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"}),Object(h.d)(n)&&Object(f.i)({pixelId:"dentsu_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"});const b=e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login";Object(g.g)({action:b,event:"success",type:r})},_=(e,t)=>{Object(g.a)(`web_cross_domain_login.${e}.${Object(l.c)(t)}`)},j=(e,t,n="other",i=!1)=>{if(e){const o=e.http_status===d.b?d.b:e.api_error_code;let r=o;c.b.has(o)&&(r=c.b.get(o));const{container:a}=t;i?Object(g.a)(`unauth_web_client_cctld_login_api_error.${String(r)}.${a||"unknow_container"}.${n}`):Object(g.a)(`unauth_web_client_login_api_error.${String(r)}.${a||"unknow_container"}.${n}`),Object(g.g)({action:"login",event:"fail",type:n})}};t.a=function(e,t,n={},s=!1,c,d,g=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==a.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(t.origin))return function(e,t,n,i){_("attempt",e);const{referrer:o,facebookToken:r,unauthId:a}=i;return Object(m.loginUser)(e,{recaptchaV3Token:t,referrer:o,facebookToken:r,unauthId:a}).then(t=>{if(t&&t.data){_("success_with_token",e);const i=t.data;return Object(m.exchangeTokenAndSetSession)(i).then(t=>(_("success_token_exchanged",e),p(e,n),Promise.resolve()),t=>{throw _("success_token_not_exchanged",e),t})}throw _("success_without_token",e),new Error},t=>{throw _("failure",e),j(t,n,Object(l.c)(e),!0),t})}(e,d,n,t)}const f=s?null:r.b.localStorage.getItem("visitedPagesBeforeLogin"),h={...e,get_user:e.get_user||e.switch_account&&s,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:f?JSON.stringify(f):null,recaptchaV2Token:c,recaptchaV3Token:d};return o.a.create("UserSessionResource",h).callCreate({showError:!1,async:!0}).then(t=>{const{client_context:o}=t||{},{country:r,active_experiments:a}=o||{};p(e,n,r,g),Object(u.b)(!1);return a&&a.web_cctld_cookies_cleanup&&"enabled"===a.web_cctld_cookies_cleanup&&(i.c("fba"),i.c("logged_out")),Object(b.a)("login").then(()=>t)},t=>(j(t,n,Object(l.c)(e)),Promise.reject(t)))}},"liz/":function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m}));var i=n("NwVv"),o=n("TPPM"),r=n("xGpI");n.d(t,"d",(function(){return r.a}));var a=n("ipvL"),s=n("bBqG");n.d(t,"i",(function(){return s.a}));var c=n("D2p8"),l=n("zRck"),d=n("IDoE");n.d(t,"c",(function(){return d.a}));n("+6dQ");const u=4,b=()=>({[l.o]:a.a.getAccountsJSON(),[l.p]:a.a.getGroupId()}),g=e=>{const t=a.a.getAccountsJSON();delete t[e],a.a.setAccounts(JSON.stringify(t))},f=(e,t)=>{if(!a.a.getAccounts()||e&&!(e.id in Object(r.a)())){if(e.partner&&e.partner.is_linked_business&&t)return void Object(i.a)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});Object(i.a)(e)}},h=(e,t,n)=>{Object(s.a)("switch_account_success",{destination_user_id:t},n),Object(o.a)(e)},m=(e,t)=>{c.c.resume(c.a),Object(s.a)("switch_account_failure",{destination_user_id:e},t)}},looy:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g}));var i=n("i2ZS"),o=n("kmwA"),r=n("ZNVR");const a=o.a.settings.DATA_PLUS_MATH_WEB_PIXEL,s=o.a.settings.DATA_PLUS_MATH_EVENT_PIXEL,c="dpm_images",l="dpm_pixel_unauth";function d(e){const{origin:t,pixelEvent:n,userIdString:i}=e,o=n?new URL(t+n):new URL(t);return o.searchParams.set("url",document.URL),o.searchParams.set("refr",document.referrer),o.searchParams.set("uid",i),o.toString()}async function u(e,t,n){const o=e+"*"+("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await Object(i.a)(t):""),s=d({origin:a,userIdString:o});Object(r.b)(e,"dpm_pixel_auth",l,c,s,o,"dpm",n)}async function b(e,t){const n=d({origin:a,userIdString:e});Object(r.c)(e,l,c,n,t)}async function g(e,t="",n,o,a){let l;if(t){const n="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await Object(i.a)(t):"";l=d({origin:s,pixelEvent:e,userIdString:n})}Object(r.e)({pixelId:e,divId:c,url:l,eventCategory:n,eventName:o,onSendPixelSuccess:a})}},sYwW:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("ZNVR");function o(e,t,n=3){if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){const i=Math.floor(3e3/n);setTimeout(()=>{o(e,t,n-1)},i)}}function r(e,t){return n=>{o(e,t),window.removeEventListener(n,r)}}function a(e,t){"complete"===document.readyState?o(e,t):window.addEventListener("load",r(e,t))}function s(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){const e=Object(i.a)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",()=>window._sendFacebookPixel=e.contentWindow.fbq)}(),window.addEventListener("load",s))}},sv3x:function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return O}));var i=n("gxu6"),o=n("GI6b"),r=n("Jr++"),a=n("Ncr9"),s=n("eOdZ"),c=n("QLqj"),l=n("kmwA"),d=n("28DW"),u=n("AXUD"),b=n("VL22"),g=n("J8m7"),f=n("nKUr");const h=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),m=[g.e,g.d,g.C,g.x,g.q,g.s,u.b],p=(g.m,g.n,g.w,g.l,g.x,[...m.filter(e=>e!==g.q&&e!==g.x),g.l,g.o]);class _{static defaultLoginRedirectUrl(){return window.location.pathname===l.a.settings.PASSWORD_RESET_URL||window.location.pathname===l.a.settings.LOGIN_URL||window.location.pathname.startsWith(l.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(l.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=c.b.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=c.b.localStorage.getItem("urh");let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const i=t.join("|");c.b.localStorage.setItem("urh",i)}static isFullyLoggedIn(e,t){return e&&1===t}static handleRedirect(e){if(!e){e="/";const t=Object(r.a)();if(t){const n=t.next;n&&(e=n,delete t.next),e=Object(o.a)(e,t)}}Object(a.a)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){c.b.localStorage.setItem("signupTime",Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){if(navigator.credentials&&e.username_or_email)try{const t=new window.PasswordCredential({id:e.username_or_email,password:e.password});navigator.credentials.store(t).then(()=>{Object(d.a)("navigatorCredentials.store.success")})}catch(t){Object(d.a)("navigatorCredentials.store.error")}}static retrieveLoginCredentialsFromBrowser(){const e=window.navigator.credentials;if(!e)return new Promise((e,t)=>{t()});return e.get({password:!0,mediation:"silent"})}static attemptLoginWithBrowserCredentials(e,t,n){if(!e)return new Promise((e,t)=>{t("No credentials")});let i,o;e.password?(o="include",i=new FormData,i.append("username",e.id),i.append("password",e.password)):o=e;return fetch("/resource/UserSessionResource/create/",{method:"POST",body:i,credentials:o,headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":t||"","X-Pinterest-AppState":n,"X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(200!==e.status){const t=new Error(e.statusText);throw t.response=e,t}return Object(d.a)("navigatorCredentials.login.success"),e.json()}).catch(e=>(Object(d.a)("navigatorCredentials.login.failure"),Promise.reject(e)))}static fetchRecentlyLoggedOutUser(e){if(e)return Promise.reject();const t=s.a.create("UnauthUserDataResource");return new Promise((e,n)=>{t.callGet().then(t=>{const o=t.resource_response.data,r=!!i.a("logged_out");return o?(o.connected_to_facebook||o.connected_to_google||o.has_password||Object(d.a)("unauth.personalized_login.no_login_methods_found"),Object(d.a)("unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),e(o)):(Object(d.a)("unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),n({}))}).catch(e=>{if(e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();Object(d.a)("unauth.personalized_login.fetch_user_info.error."+t)}else Object(d.a)("unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}static handleLoginMfa(e,t,n){Object(d.a)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):Object(d.a)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}static getLoginErrorState(e,t,n,i,o){let r=null;const a=e.http_status||e.httpStatus;let s,c=e.api_error_code||e.apiErrorCode;if(a===u.b&&(c=u.b),s=p.includes(c)?Object(f.jsx)(i,{api_error_code:c,errorMessage:e.message,handleTouch:()=>o(h.PASSWORD_RESET_SENT),source:t,userSearch:n}):e.message,s)switch(c){case g.l:case g.q:r={passwordValidationError:s};break;case g.m:r={facebookValidationError:s};break;case g.n:r={googleValidationError:s};break;case g.k:r={emailValidationError:s};break;case g.h:r={passwordValidationError:s};break;default:r={emailValidationError:s}}else Object(d.a)(`unauth.login.error.SERVER_ERROR.unknown.${c}.${t}`);return r}}function j(e){return e.facebook_id?b.a.FACEBOOK:e.google_open_id_token?b.a.GOOGLE_ONE_TAP:e.gplus_id_token?b.a.GOOGLE:e.line_id_token?b.a.LINE:e.username_or_email?b.a.EMAIL:b.a.OTHER}function O(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":j(e)}t.b=_},vVbV:function(e,t,n){function i(e){return{type:"SET_NUX_PROGRESS",payload:{step:e}}}n.d(t,"a",(function(){return i}))},vkSv:function(e,t,n){n.d(t,"a",(function(){return pt}));var i=n("q1tI"),o=n("/MKj"),r=n("EgnG"),a=n("n6mq");const s=2640,c=500;var l=n("nKUr");const d=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"],u=[10,-10,0];var b=Object(i.memo)((function(){const e=Object(i.createRef)();return Object(i.useEffect)(()=>{Object(r.a)({targets:e.current,translateY:["20%","-20%"],opacity:{value:0,delay:2680,duration:c},duration:4e3,easing:"cubicBezier(.35, 0, .7, .7)",fillMode:"forwards"})},[e]),Object(l.jsx)(a.f,{width:"100%",ref:e,dangerouslySetInlineStyle:{__style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",columnGap:"8px"}},children:function(){const e=[];let t,n=0;for(let i=0;i<3;i+=1){e.push([]),t=[];for(let e=0;e<d.length;e+=1){const o=d[n];t.push(Object(l.jsx)(a.f,{color:o,height:168,marginTop:2,rounding:4,width:112},e)),n+=3,n>=d.length&&(n=i)}e[i].push(Object(l.jsx)(a.f,{marginTop:u[i],children:t},i))}return e}()})})),g=n("Ye/N");var f=Object(i.memo)((function({selectedInterest:e}){const t=Object(i.createRef)(),n=Object(i.createRef)(),o=Object(i.createRef)();Object(i.useEffect)(()=>{Object(r.a)({targets:t.current,scale:[.5,1],translateY:[448,0],opacity:[{value:0,duration:0},{value:1,duration:0}],delay:s,duration:800,easing:"linear",fillMode:"forwards"});const e=(e,t)=>Object(r.a)({targets:n.current,opacity:[0,1],delay:3640,duration:c,fillMode:"forwards"});e(n.current),e(o.current)},[n,o,t]);const d={label:g.a._("Food and Drink","Title for topic","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},{label:u,name:b,images:f}=e||d,{"400x":{url:h,height:m,width:p}}=f,_=(u||b||"").trim().toLowerCase().replace(/\s/g,"").concat(".com");return Object(l.jsxs)(a.f,{ref:t,height:354,width:236,position:"absolute",marginTop:"auto",marginBottom:"auto",top:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{right:"96px"}},children:[Object(l.jsx)(a.C,{height:354,rounding:4,width:236,children:Object(l.jsx)(a.x,{alt:g.a._("Pin image","Pin image for nux loading step","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:null!=m?m:1,naturalWidth:null!=p?p:1,src:null!=h?h:""})}),Object(l.jsx)(a.f,{ref:n,margin:3,position:"absolute",right:!0,top:!0,children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Save button"),color:"red",size:"lg",text:g.a._("Save","save button for nux loading step","save button for nux loading step")})}),Object(l.jsxs)(a.f,{ref:o,color:"lightGray",margin:3,paddingX:3,paddingY:1,rounding:"pill",position:"absolute",bottom:!0,left:!0,maxWidth:"90%",display:"flex",alignItems:"center",justifyContent:"between",children:[Object(l.jsx)(a.f,{alignItems:"center",children:Object(l.jsx)(a.v,{accessibilityLabel:g.a._("link","Pin website url link for nux loading step","Pin website url link for nux loading step"),color:"darkGray",icon:"arrow-up-right",size:12})}),Object(l.jsx)(a.f,{flex:"grow",height:18,marginStart:2,overflow:"hidden",children:Object(l.jsx)(a.cb,{size:"sm",truncate:!0,weight:"bold",children:_})})]})]})}));const h={backgroundColor:"#efefef"},m={transition:"width .4s ease-out"};function p(e,t){return Object.assign({},m,{width:e+"%",borderRadius:t})}var _=({color:e="darkGray",height:t=8,progress:n=0,outerBorderRadius:i="10px",innerBorderRadius:o="inherit"})=>{return Object(l.jsx)(a.f,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:(r=t,s=i,Object.assign({},h,{height:r+"px",borderRadius:s}))},children:Object(l.jsx)(a.f,{height:"inherit",color:e,dangerouslySetInlineStyle:{__style:p(n,o)}})});var r,s},j=n("vVbV"),O=n("0/lc"),x=n("U4JR"),w=n("62cf");const y="NUX_LOADING_STEP_STATUS";function S({incrementNuxStep:e,isRenux:t,selectedInterests:n,showProgressBar:d}){const[u,h]=Object(i.useState)(0),[m,p]=Object(i.useState)(null),S=Object(o.useDispatch)(),v=Object(i.useRef)(null),E=Object(i.useRef)(null);Object(i.useEffect)(()=>{S(Object(j.a)("loader")),t||S(Object(O.a)(y,w.f)),Object(x.b)(13,{view:t?213:24,viewParameter:261})},[S,t]),Object(i.useEffect)(()=>{p(setInterval(()=>h(e=>Math.min(e+100/17,100)),300))},[]),Object(i.useEffect)(()=>{Object(r.a)({targets:v.current,opacity:[1,0],delay:s,duration:c,easing:"linear",fillMode:"forwards"}),Object(r.a)({targets:E.current,opacity:[0,1],delay:3140,duration:c,easing:"linear",fillMode:"forwards"})},[v,E]),Object(i.useEffect)(()=>{u>=100&&p(clearInterval(m))},[m,u]),Object(i.useEffect)(()=>{u>=100&&setTimeout(()=>{t||S(Object(O.a)(y,w.a)),Object(x.b)(8900,{view:t?213:24,viewParameter:261}),e()},1e3)},[S,e,t,u]);const I=g.a._("Hold tight while we customize your home feed...","nux.loadingStep.subheader","Loading homefeed details"),T=g.a._("Your home feed is made of ideas.","nux.loadingStep.header","Home feed education on NUX loading step"),k=g.a._("Ideas come from creators around the world","nux.loadingStep.educationText","Pin education on NUX loading step");return Object(l.jsxs)(a.f,{display:"flex",direction:"column",height:"100%",overflow:"hidden","data-test-id":"nux-complete-loader",children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"row",display:"flex",height:"100%",justifyContent:"between",overflow:"hidden",paddingX:12,width:"100%",children:[Object(l.jsxs)(a.f,{marginStart:12,position:"relative",width:230,children:[Object(l.jsx)(a.f,{ref:v,children:v.current&&Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.u,{size:"md",children:g.a._("All set!","nux.loadingStep.title","Title for nux loading step")}),Object(l.jsx)(a.f,{marginTop:4,children:Object(l.jsx)(a.cb,{children:t?g.a._("We're refreshing your home feed with lots of new Pins...","renux.loadingStep.subheader","Details for ReNUX loading step"):I})})]})}),Object(l.jsx)(a.f,{ref:E,position:"absolute",top:!0,children:E.current&&Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.u,{size:"md",children:T}),Object(l.jsx)(a.f,{marginTop:4,children:Object(l.jsx)(a.cb,{children:k})})]})})]}),Object(l.jsx)(a.f,{marginEnd:2,children:Object(l.jsx)(b,{})}),Object(l.jsx)(f,{selectedInterest:n[0]})]}),!d&&Object(l.jsx)(a.f,{height:10,position:"absolute",top:!0,width:"100%",children:Object(l.jsx)(a.f,{height:65,overflow:"hidden",paddingX:2,rounding:8,children:Object(l.jsx)(_,{height:10,innerBorderRadius:"0 32px 32px 0",outerBorderRadius:"32px 32px 0 0",progress:u})})})]})}var v=n("IZzd"),E=n("028R");const I="NUX_BROWSER_EXT_STEP_STATUS";function T({incrementNuxStep:e,isRenux:t}){const n=Object(o.useDispatch)();Object(i.useEffect)(()=>{n(Object(j.a)("extension")),t||n(Object(O.a)(I,w.f)),Object(x.b)(13,{view:t?213:24,viewParameter:260})},[n,t]);const r=()=>{t||n(Object(O.a)(I,w.a)),e()},a=g.a._("Last step! Get our handy browser button","renux.extensionStep.header","Header in NUX browser extension upsell step."),s=g.a._("Quickly save any idea you find around the web","renux.extensionStep.subheader","Subheader in NUX browser extension upsell step");return Object(l.jsx)(E.a,{header:a,installClick:()=>{v.a.handleExtensionInstall(r),Object(x.b)(101,{component:17,element:280,view:t?213:24,viewParameter:260})},skipClick:()=>{Object(x.b)(101,{component:17,element:1150,view:t?213:24,viewParameter:260}),r()},subheader:s})}var k=n("JW66"),L=n("7pfs"),C=n("v/Q4");const A="NUX_GENDER_STEP_STATUS",N=()=>{},R="genderButton",P="nextButton",D="submitButton";function U({incrementNuxStep:e,isRenux:t}){const n=Object(C.a)(),r=n.gender||"",s=n.customGender||"",[c,d]=Object(i.useState)(s),[u,b]=Object(i.useState)(r===w.i&&0===s.length?"":r),[f,h]=Object(i.useState)(r===w.i&&s.length>0),[m,p]=Object(i.useState)(r===w.i&&s.length>0),_=Object(i.useMemo)(()=>[w.e,w.d].includes(r)||s.length>0),y=Object(o.useDispatch)();Object(i.useEffect)(()=>{y(Object(j.a)("gender")),t||y(Object(O.a)(A,w.f)),Object(x.b)(13,{view:t?213:24,viewParameter:3120})},[]);const S=()=>{const n=u===w.i?{gender:w.i,custom_gender:c.slice(0,30)}:{gender:u};y(Object(O.e)({updateUserData:n})).then(()=>{t||y(Object(O.a)(A,w.a)),Object(x.b)(8900,{view:t?213:24,viewParameter:3120}),e()})},v=e=>{let n;switch(e){case R:n=241;break;case P:n=96;break;case D:n=11906}n&&Object(x.b)(101,{component:17,element:n,view:t?213:24,viewParameter:3120})};Object(i.useEffect)(()=>{_?p(u===w.i):u===w.i||m?(d(""),h(!1),p(!m)):u&&S()},[u]);const E=(e,t,n)=>Object(l.jsx)(L.a,{children:({hovered:i,onMouseEnter:o,onMouseLeave:r})=>{const s=u===w.i&&t!==w.i&&!_;return Object(l.jsx)(a.f,{color:i?"lightGray":"transparent","data-test-id":`nux-gender-${t}-label`,onKeyUp:n=>{e||n.keyCode!==k.a.KeyCode.SPACE&&n.keyCode!==k.a.KeyCode.ENTER||(v(R),b(s?"":t))},onMouseEnter:o,onMouseLeave:r,onMouseUp:()=>{e||(v(R),b(s?"":t))},rounding:i?2:0,children:Object(l.jsx)(a.y,{htmlFor:t,children:Object(l.jsxs)(a.f,{alignItems:"center",display:"flex",flex:"none",height:60,paddingX:8,children:[Object(l.jsx)(a.N,{checked:e,id:t,name:"genderOptions",onChange:N,size:"md",value:t}),Object(l.jsx)(a.f,{display:"flex",flex:"grow",marginStart:6,children:n})]})})})}}),I=m?Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.f,{"data-test-id":"nux-gender-unspecified-input",display:"flex",flex:"grow",marginEnd:!_&&f?3:0,children:Object(l.jsx)(a.f,{alignItems:"center",width:"100%",children:Object(l.jsx)(a.eb,{id:"customGender",onChange:({event:e})=>(e=>{e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?(d(e.target.value),h(!0)):_&&e.target instanceof HTMLInputElement?(d(e.target.value),h(!1)):(d(""),h(!1))})(e),placeholder:c||g.a._("Enter preferred gender","nux.gender.customGenderPlaceholder","placeholder text for custom gender text field"),size:"lg"})})}),!_&&f&&Object(l.jsx)(a.f,{"data-test-id":"nux-gender-unspecified-done-btn",children:Object(l.jsx)(a.g,{color:"red",inline:!0,onClick:()=>{v(D),S()},size:"lg",text:g.a._("Submit","nux.gender.submitCustomGender","button text for submitting a custom gender type")})})]}):Object(l.jsx)(a.u,{size:"sm",children:g.a._("Specify another","nux.gender.specifyButton","Option for gender besides male and female")}),T=t?g.a._("It’s time to refresh your feed!","nux.gender.renuxHeader","Title on the modal asking user's gender"):g.a._("How do you identify?","Header in NUX gender step.","Header in NUX gender step."),U=t?g.a._("How would you describe yourself?","nux.gender.renuxSubheader","Subtitle on the modal asking user's gender"):"";return Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",justifyContent:"start",paddingY:8,width:"100%",children:[Object(l.jsx)(a.f,{direction:"column",display:"flex",marginTop:11,paddingX:8,paddingY:8,children:t?Object(l.jsxs)(a.f,{marginTop:8,paddingY:4,children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:T}),Object(l.jsx)(a.f,{marginTop:3,children:Object(l.jsx)(a.cb,{align:"center",children:U})})]}):Object(l.jsx)(a.u,{align:"center",size:"lg",children:T})}),Object(l.jsxs)(a.f,{paddingY:8,children:[E(!m&&u.toLowerCase()===w.d,w.d,Object(l.jsx)(a.u,{size:"sm",children:g.a._("Female","nux.gender.femaleButton","Option for select female gender")})),E(!m&&u.toLowerCase()===w.e,w.e,Object(l.jsx)(a.u,{size:"sm",children:g.a._("Male","nux.gender.maleButton","Option for select male gender")})),E(m,w.i,I)]}),_&&Object(l.jsx)(a.f,{"data-test-id":"nux_gender_next_btn",marginEnd:8,marginStart:8,marginTop:"auto",children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Next","nux.gender.nextButton","go to next nux step"),color:"red",disabled:m&&0===c.length,onClick:()=>{v(P),S()},size:"lg",text:g.a._("Next","nux.gender.nextButton","next nux step button"),type:"button"})})]})}var B=n("1inl"),G=n("Jr++"),M=n("CzMn"),V=n("r9FX"),z=n("rh3l"),F=n("HZII"),W=n.n(F),H=n("QLqj"),X=n("w70y"),$=n("gYog"),K=n("573u"),Y=n("+Der");const q="nux_picker",J=W()(()=>{H.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)});function Z({handleBottomScroll:e,hideFollowedInterests:t,isRenux:n,onNextClick:r,selectedInterests:s,setSelectedInterests:c}){const[d,u]=Object(i.useState)([]),[b,f]=Object(i.useState)([]),[h,m]=Object(i.useState)([]),p=Object(o.useDispatch)(),_=Object(i.useRef)(s),j=Object(i.useRef)(null),w=Object(i.useRef)(null),y=n?213:24,S=Object(o.useSelector)(({mostRecentPin:e})=>e&&e.plp_image_signatures?e.plp_image_signatures:[]),{data:v,error:E}=Object(X.a)({allowStale:!1,name:"NuxInterestsResource",options:{is_renux:n,logNetworkTimer:!0,loggerComponentName:q,extraImageSignal:(()=>{const{plpImages:e,blpImages:t}=Object(Y.a)(),n=e.concat(t);return S.concat(n)})(),hideFollowedInterests:t,urlParams:Object(G.a)()}});Object(i.useEffect)(()=>{if(v){(()=>{const e=H.b.localStorage.getItem("signupTime");if(e){const t=Date.now()-e;t<18e4&&z.default.logToServer(z.default.SERVER_LOG_TYPE.SIGNUP_LOAD,z.default.HTTP_METHOD.POST,{timing:t,component:"nux"}),H.b.localStorage.removeItem("signupTime")}})();const e=_.current.map(e=>e.id),n=v.filter(t=>!e.includes(t.id)),i=[..._.current,...t?[]:n.filter(e=>e.is_followed)];c(i),f(i);const o=[...i,...n.filter(e=>!e.is_followed)];o.length>0&&(m([(new K.a).start()]),u(o))}},[t,v,_,c]),Object(i.useEffect)(()=>{E&&B.a.showError(E.message||g.a._("Unable to load topics","nux.interestGrid.interestLoadingError","Error message when failed to load topics."))},[E]),Object(i.useEffect)(()=>{const e=[],t=[],n=s.map(e=>e.id);if(d.forEach(i=>{if(e.push(i),n.includes(i.id)){const e=d.map(e=>e.id),n=(i.contextual_interests||[]).filter(t=>!e.includes(t.id));n.length>0&&"InsertionStrategy.INSERT_AT_THE_END"===i.contextual_insertion_strategy&&t.push(...n)}}),e.push(...t),e.length!==d.length&&(u(e),h.length)){const e=h.slice(-1)[0];e.end(),z.default.logToServer(z.default.SERVER_LOG_TYPE.RENDER_TIME,z.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:q}),m(h.slice(0,-1))}},[d,h,s]);const I=(e,t)=>{let n=[...s],i=[...b];const o=!Object(Y.b)(s,e),r={...e,is_followed:o};((e,t,n)=>{const i=e?1030:1151;Object(x.b)(101,{component:36,element:i,grid_index:n,objectId:t,view:y,viewParameter:172})})(o,e.id,t);const a=Object(Y.b)(n,e);!a&&o?n.push(r):a&&!o&&(n=s.filter(e=>e.id!==r.id));const l=Object(Y.b)(i,e);l&&!o&&(i=b.filter(e=>e.id!==r.id)),l!==o&&i.push(r),c(n),f(i)};Object(i.useEffect)(()=>{const t=()=>{const t=w.current,n=j.current;if(t&&n){J();const i=t.scrollTop+t.offsetHeight,o=n.clientHeight;e(i>=o)}},n=w.current;return n&&n.addEventListener("scroll",t),()=>{n&&n.removeEventListener("scroll",t)}},[e]),Object(i.useEffect)(()=>{if(r){(async()=>{let e;if(n){const t=b.reduce((e,t)=>(e[t.id]=t.is_followed,e),{});e=await p(Object(O.d)(t,"renux"))}else{const t=[],n=[];s.forEach(e=>{t.push(e.id),n.push(e.log_data?e.log_data:null)}),e=await p(Object(O.b)({interests:t.join(),log_data:JSON.stringify(n),referrer:"nux",user_behavior_data:Object(M.a)()}))}return e})().then(()=>{r()})}},[p,b,n,r,s]);const T=d.map(e=>(e.is_followed=Object(Y.b)(s,e),e));return T.length>0&&H.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),Object(l.jsx)(a.f,{ref:w,dangerouslySetInlineStyle:{__style:{paddingBottom:"40px"}},flex:"grow",height:"100%",overflow:"scrollY",paddingX:2,tabIndex:-1,width:"100%",children:T.length>0?Object(l.jsx)(a.f,{display:"flex",marginStart:5,marginTop:-1,justifyContent:"start",ref:j,wrap:!0,children:T.map((e,t)=>Object(l.jsx)($.a,{impressionType:"Interest",loggingId:e.id,slotIndex:t,viewType:y,viewParameter:172,children:({impressionTrackerRef:n})=>Object(l.jsx)(a.f,{padding:1,ref:n,children:Object(l.jsx)(V.a,{clickHandler:()=>I(e,t),index:t+1,interest:e,isSelected:e.is_followed,size:"xl_144",totalInterests:T.length},e.id)})},e.id))}):Object(l.jsx)(a.U,{accessibilityLabel:g.a._("Loading default interests","nux.interestGrid.spinnerLabel","Interest grid loading label"),show:!0})})}var Q=n("eBDd");var ee=n("DzJC"),te=n.n(ee),ne=n("vvax");const ie=Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1))"}},height:20,left:!0,marginTop:-5,position:"absolute",right:!0,top:!0}),oe="NUX_TOPIC_PICKER_STEP_STATUS";function re({hideFollowedInterests:e,incrementNuxStep:t,isRenux:n,isSimpleRenux:r,selectedInterests:s,setSelectedInterests:c,isLastStep:d}){const[u,b]=Object(i.useState)(!1),[f,h]=Object(i.useState)(!1),m=Object(i.useMemo)(()=>n?213:24,[n]),p=Object(o.useDispatch)(),_=Object(i.useMemo)(()=>n&&e?1:5,[e,n]),y=Object(i.useMemo)(()=>u&&s.length>=1?0:Math.max(0,_-s.length),[_,u,s]),S=Object(i.useMemo)(()=>y>0?n&&e?g.a._("Next","renux.interestStep.nextButton","go to next step"):Object(Q.a)(g.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",y,"number of interests left to pick","number of interests left to pick"),{numberLeftToFollow:y}):g.a._("Done","nux.interestStep.doneButton","Done button on nux and renux interest picker"),[e,n,y]);Object(i.useEffect)(()=>{p(Object(j.a)("topic")),Object(x.b)(13,{view:m,viewParameter:172}),n||p(Object(O.a)(oe,w.f))},[p,n,m]);const v=te()(e=>b(e),50);Object(i.useEffect)(()=>{p({type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:s.reduce((e,t)=>{if(t&&t.images&&t.images["400x"]){const n={bestPinsImages:t.best_pins_images,height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])}})},[p,s]);let E,I=d?g.a._("Last step! Tell us what you're interested in","nux.interestStep.header","Header in NUX topic picker step."):g.a._("Tell us what you're interested in","nux.interestStep.header.notLast","Header in NUX topic picker when it's not the last step.");return n&&e?(I=g.a._("What are you into these days?","renux.interestStep.header","Header in ReNUX topic picker step."),E=g.a._("Pick the topics you want to see in your home feed","renux.interestStep.subheader","Subheader in ReNUX topic picker step.")):r&&(I=g.a._("Which topics do you want to see more of?","simpleNux.interestStep.header","Header in NUX topic picker step for topic education experience."),E=g.a._("Ideas you see in your home feed are based on topics you like","simpleNux.interestStep.subheader","Subheader in NUX topic picker step for topic education experience.")),Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",children:[Object(l.jsx)(a.f,{display:"visuallyHidden",role:"alert",children:Object(ne.b)(g.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected","accessible label how many topics are selected"),{selectedTopicsCount:s.length})}),Object(l.jsxs)(a.f,{marginBottom:8,marginTop:n?8:4,paddingX:8,wrap:!0,children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:I}),E&&Object(l.jsx)(a.f,{marginTop:2,children:Object(l.jsx)(a.cb,{align:"center",children:E})})]}),Object(l.jsx)(Z,{handleBottomScroll:v,hideFollowedInterests:e,isRenux:n,onNextClick:f?()=>{n||p(Object(O.a)(oe,w.a)),Object(x.b)(101,{component:17,element:96,view:m,viewParameter:172}),Object(x.b)(8900,{view:m,viewParameter:172}),t()}:void 0,selectedInterests:s,setSelectedInterests:c}),Object(l.jsxs)(a.f,{position:"relative",children:[ie,Object(l.jsx)(a.f,{"data-test-id":"nux-picker-done-btn",marginBottom:8,marginTop:8,paddingX:8,children:Object(l.jsx)(a.g,{color:"red",disabled:y>0,onClick:()=>h(!0),size:"lg",text:S,type:"submit"})})]})]})}var ae=n("TPPM"),se=n("kmwA"),ce=n("pLLR");const le="NUX_COUNTRY_LOCALE_STEP_STATUS";function de({incrementNuxStep:e,isRenux:t,toggleLoadingIndicator:n}){const r=Object(C.a)(),s=r.country||"",c=r.locale||"",d=Object(ce.d)(),[u,b]=Object(i.useState)(s||d.country||w.b),[f,h]=Object(i.useState)(c||d.locale||w.c),m=Object(X.a)({name:"LocalesResource"}),p=Object(X.a)({name:"CountriesResource"}),_=Object(o.useDispatch)();Object(i.useEffect)(()=>{_(Object(j.a)("country")),t||_(Object(O.a)(le,w.f));H.b.localStorage.getItem("signupUserLocale")||H.b.localStorage.getItem("signupUserCountry")||Object(x.b)(13,{view:24,viewParameter:3139})},[]);const y=g.a._("Pick your language and country/region","nux.localeCountryStep.header","Header in NUX locale/country step"),S=(e,t,n,i,o)=>{const r=(o.data||[]).concat().sort((e,t)=>e.name.localeCompare(t.name)).map(({name:e,key:t})=>({label:e.toString(),value:t}));return Object(l.jsx)(a.S,{id:e,name:t,onChange:({value:e})=>n(e),options:r,size:"lg",value:i})};return Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",padding:8,width:"100%",children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginBottom:7,children:[Object(l.jsx)(a.f,{marginTop:10,paddingY:5,width:"100%",children:Object(l.jsx)(a.u,{align:"center",size:"md",children:y})}),Object(l.jsxs)(a.f,{marginTop:12,paddingY:5,width:"100%",children:[Object(l.jsx)(a.f,{"data-test-id":"nux-locale-select",children:S("newUserLanguage","locale",e=>{e!==f&&(h(e),_(Object(O.e)({updateUserData:{country:u,locale:e}})).then(()=>{H.b.localStorage.setItem("signupUserLocale",e),n(!0),Object(ae.a)("/")}))},f,m)}),Object(l.jsx)(a.f,{"data-test-id":"nux-country-select",marginTop:4,children:S("newUserCountry","country",e=>{if(e!==u){b(e);const t=se.a.settings.EU_COUNTRIES_2020_COOKIE_POLICY,n=!t.includes(u)&&t.includes(e)?{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}:{};_(Object(O.e)({updateUserData:{...n,country:e,locale:f}})).then(()=>{H.b.localStorage.setItem("signupUserCountry",e)})}},u,p)})]})]}),Object(l.jsx)(a.f,{bottom:!0,"data-test-id":"nux-locale-country-next-btn",children:Object(l.jsx)(a.g,{color:"red",disabled:"Country"===u,onClick:()=>{_(Object(O.e)({updateUserData:{country:u,locale:f}})).then(()=>{t||_(Object(O.a)(le,w.a)),Object(x.b)(101,{component:17,element:96,view:24,viewParameter:3139}),Object(x.b)(8900,{view:24,viewParameter:3139}),e()})},size:"lg",text:g.a._("Next","nux.localeCountryStep.nextButton","go to next step"),type:"submit"})})]})}const ue=new a.s(1001),be=new a.n([ue]),ge=({children:e})=>Object(l.jsx)(a.z,{children:Object(l.jsx)(a.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",top:!0,width:"100vw",zIndex:ue,children:Object(l.jsx)(a.f,{color:"white",padding:8,rounding:8,width:w.h,zIndex:be,children:e})})});function fe({onDismiss:e,toggleLoadingIndicator:t,view:n,viewParameter:r}){const s=Object(o.useDispatch)(),c=Object(C.a)(),d=c.country||"",u=c.locale||"",{country:b,locale:f}=Object(ce.d)(),h=Object(i.useRef)(u||f||w.c),m=Object(i.useRef)(d||b||w.b),[p,_]=Object(i.useState)(h.current),[j,y]=Object(i.useState)(m.current),[S,v]=Object(i.useState)(!1),E={component:13813,view:n,viewParameter:r};Object(i.useEffect)(()=>{Object(x.b)(13,E)},[]),Object(i.useEffect)(()=>v(h.current!==p||m.current!==j),[j,m,h,p]);const I=Object(X.a)({name:"LocalesResource"}),T=Object(X.a)({name:"CountriesResource"}),k=(e,t,n,i,o)=>{const r=(o.data||[]).concat().sort((e,t)=>e.name.localeCompare(t.name)).map(({name:e,key:t})=>({label:e.toString(),value:t}));return Object(l.jsx)(a.S,{id:e,name:t,onChange:({value:e})=>n(e),options:r,size:"lg",value:i})};return Object(l.jsxs)(ge,{children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:g.a._("Pick your language and country/region","nux.countryRegionFooterSelector.modalHeading","Header in NUX locale/country modal selector")}),Object(l.jsx)(a.f,{marginTop:4,paddingY:2,children:k("newUserLanguage","locale",_,p,I)}),Object(l.jsx)(a.f,{paddingY:2,children:k("newUserCountry","country",y,j,T)}),Object(l.jsxs)(a.f,{display:"flex",justifyContent:"between",marginTop:4,children:[Object(l.jsx)(a.g,{inline:!0,onClick:()=>{Object(x.b)(101,{...E,element:11925}),e()},text:g.a._("Cancel","nux.countryRegionFooterSelector.cancelButton","Cancel language/region update"),size:"lg"}),Object(l.jsx)(a.g,{color:"red",disabled:!S,inline:!0,onClick:()=>{Object(x.b)(101,{...E,element:12018});const n=Object(Y.c)(m.current,j);s(Object(O.e)({updateUserData:{...n,locale:p,country:j}})).then(()=>{j!==m.current&&(Object(x.b)(9321,{...E,prev_value:m.current,value:p}),H.b.localStorage.setItem("signupUserCountry",j)),p!==h.current?(Object(x.b)(9322,{...E,prev_value:h.current,value:p}),H.b.localStorage.setItem("signupUserLocale",p),t(!0),Object(ae.a)("/")):e()})},size:"lg",text:g.a._("Save","nux.countryRegionFooterSelector.saveButton","Save language/region update")})]})]})}var he=n("D2p8"),me=n("b7nI"),pe=n("TgLd"),_e=n("QAzJ");const je=600,Oe=640,xe=816,we=["NuxDismissableWelcome","NuxWelcomeNameStep","NuxAboutYouStep","NuxGenderStep","NuxLocaleCountryStep"];var ye=Object(i.memo)((function({children:e,currentIndex:t,hideDots:n,inUsecaseQuiz:o,isLoading:s,numSteps:c,onClose:d,onPrevStepClick:u,stepName:b}){const{anyEnabled:f}=Object(_e.b)("web_nux_modal_gestalt"),{isRTL:h}=Object(ce.d)(),m=Object(i.useRef)(),p=Object(i.useRef)(),_=(e=>we.includes(e))(b);Object(i.useEffect)(()=>(f||(document.body&&(document.body.style.overflow="hidden"),he.c.pause()),()=>{f||(document.body&&(document.body.style.overflow=""),he.c.resume())}),[]),Object(i.useEffect)(()=>{f&&(()=>{if(!m.current||!p.current)return;const e=!_;Object(r.a)({targets:m.current,duration:e?500:0,width:e?[w.h,xe]:[xe,w.h],easing:"linear",fillMode:"forwards"}),Object(r.a)({targets:p.current,duration:e?500:0,height:e?[je,Oe]:[Oe,je],easing:"linear",fillMode:"forwards"})})()},[_]);const j=Object(l.jsxs)(i.Fragment,{children:[s&&Object(l.jsx)(me.a,{}),!!u&&Object(l.jsx)(a.f,{left:!h,right:h,marginStart:5,marginTop:5,minHeight:40,position:"absolute",top:!0,children:Object(l.jsx)(a.w,{accessibilityLabel:g.a._("Go back to previous step","Accessibility label on NUX back button","Accessibility label on NUX back button"),icon:"directional-arrow-left",iconColor:"darkGray",onClick:u,size:"md"})}),!n&&Object(l.jsx)(a.f,{alignItems:"center",alignSelf:"center",display:"flex",height:16,justifyContent:"evenly",marginBottom:4,marginEnd:4,marginStart:4,marginTop:8,minHeight:16,width:40*c,children:[...Array(c).keys()].map(e=>{const n=e>t,i=n?"6px":"10px";return Object(l.jsx)(a.f,{color:n?"gray":"darkGray","data-test-id":"nux-toc-dot",height:i,rounding:"circle",width:i},e)})}),!!d&&Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:o?{zIndex:1}:{}},marginEnd:6,marginTop:6,minHeight:40,position:"absolute",right:!0,top:!0,children:Object(l.jsx)(a.w,{accessibilityLabel:g.a._("cancel","close nux modal","close nux modal"),icon:"cancel",iconColor:"darkGray",onClick:d,size:"sm"})}),Object(l.jsx)(a.f,{flex:"grow",height:"100%",width:"100%",children:e})]});return f?Object(l.jsx)(pe.b,{accessibilityModalLabel:"nux",closeOnOutsideClick:!1,onDismiss:()=>{},size:_?w.h:xe,children:Object(l.jsx)(a.f,{direction:"column",display:"flex",height:_?je:Oe,maxHeight:"100%",position:"relative",ref:p,children:j})}):Object(l.jsx)(a.z,{children:Object(l.jsx)(a.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:"999"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",top:!0,width:"100vw",children:Object(l.jsx)(a.f,{color:"white",dangerouslySetInlineStyle:{__style:{transition:_?"":"width 0.5s, height 0.5s",borderRadius:"32px"}},direction:"column",display:"flex",height:_?je:Oe,position:"relative",rounding:2,width:_?w.h:xe,children:j})})})})),Se=n("0fBX"),ve=n("ZH46"),Ee=n.n(ve);const Ie=196;function Te(){return Object(l.jsxs)("svg",{width:236,height:420,viewBox:"0 0 236 420",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M3.00583e-06 32C1.47029e-06 14.3269 14.3269 -1.2525e-06 32 -2.79753e-06L204 -1.78342e-05C221.673 -1.93793e-05 236 14.3269 236 32L236 388C236 405.673 221.673 420 204 420L32 420C14.3269 420 3.54728e-05 405.673 3.39372e-05 388L3.00583e-06 32Z",fill:"#010027"}),Object(l.jsx)("path",{d:"M16 36C16 24.9543 24.9543 16 36 16H200C211.046 16 220 24.9543 220 36V384C220 395.046 211.046 404 200 404H36C24.9543 404 16 395.046 16 384V36Z",fill:"url(#paint0_linear)"}),Object(l.jsx)("path",{d:"M72 9.99994H164V25.9999C164 30.4182 160.418 33.9999 156 33.9999H80C75.5817 33.9999 72 30.4182 72 25.9999V9.99994Z",fill:"#010027"}),Object(l.jsx)("image",{transform:"translate(20,112)",href:Ee.a,height:Ie,width:Ie}),Object(l.jsx)("defs",{children:Object(l.jsxs)("linearGradient",{id:"paint0_linear",x1:"118",y1:"376.473",x2:"118",y2:"404",gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"white"}),Object(l.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.96"})]})})]})}function ke(){const e=g.a._("Get Pinterest on your phone","footer.appInstall.qrCode.header","header text for app install upsell"),t=g.a._("Scan the QR code with your phone's camera to download our free app","footer.appInstall.qrcode.subheader","subheader text for app install upsell");return Object(l.jsx)(a.f,{paddingX:12,paddingY:5,children:Object(l.jsxs)(a.t,{gap:1,flex:"none",children:[Object(l.jsx)(a.f,{width:394,height:420,marginStart:12,alignItems:"center",children:Object(l.jsxs)(a.t,{direction:"column",gap:1,justifyContent:"center",minHeight:420,children:[Object(l.jsx)(a.f,{marginBottom:4,children:Object(l.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 24C0 34.246 6.422 42.994 15.46 46.436C15.24 44.562 15.006 41.472 15.51 39.304C15.944 37.44 18.312 27.428 18.312 27.428C18.312 27.428 17.598 25.998 17.598 23.88C17.598 20.56 19.522 18.08 21.92 18.08C23.96 18.08 24.944 19.61 24.944 21.444C24.944 23.494 23.638 26.558 22.964 29.4C22.402 31.778 24.158 33.718 26.502 33.718C30.748 33.718 34.014 29.24 34.014 22.776C34.014 17.054 29.902 13.056 24.032 13.056C17.236 13.056 13.246 18.154 13.246 23.424C13.246 25.478 14.036 27.678 15.024 28.876C15.218 29.114 15.248 29.32 15.19 29.562C15.008 30.318 14.604 31.94 14.526 32.272C14.42 32.708 14.18 32.802 13.726 32.59C10.742 31.202 8.878 26.84 8.878 23.336C8.878 15.798 14.352 8.878 24.662 8.878C32.95 8.878 39.392 14.784 39.392 22.676C39.392 30.91 34.202 37.538 26.994 37.538C24.572 37.538 22.298 36.278 21.518 34.792C21.518 34.792 20.32 39.356 20.03 40.472C19.466 42.64 17.902 45.384 16.932 46.942C19.168 47.63 21.54 48 24 48C37.254 48 48 37.254 48 24C48 10.746 37.254 0 24 0C10.746 0 0 10.746 0 24Z",fill:"#E60023"})})}),Object(l.jsx)(a.u,{align:"start",size:"md",children:e}),Object(l.jsx)(a.f,{marginTop:4,marginBottom:4,children:Object(l.jsx)(a.cb,{align:"start",children:t})}),Object(l.jsx)(Se.a,{handleComplete:()=>{},justifyContentOverride:"start"})]})}),Object(l.jsx)(a.f,{width:236,children:Object(l.jsx)(Te,{})})]})})}const Le="NUX_QR_CODE_APP_INSTALL_STEP_STATUS";function Ce({incrementNuxStep:e,isRenux:t}){const n=Object(o.useDispatch)(),r=Object(i.useMemo)(()=>t?213:24,[t]);Object(i.useEffect)(()=>{n(Object(j.a)("install")),t||n(Object(O.a)(Le,w.f)),Object(x.b)(13,{view:r,viewParameter:3596})},[n,t,r]);return Object(l.jsxs)(a.f,{children:[Object(l.jsx)(ke,{}),Object(l.jsx)(a.f,{position:"relative",borderStyle:"shadow","data-test-id":"nux-qr-code-done-btn",padding:8,children:Object(l.jsx)(a.g,{color:"red",onClick:()=>{t||n(Object(O.a)(Le,w.a)),Object(x.b)(101,{component:17,element:96,view:r,viewParameter:3596}),Object(x.b)(8900,{view:r,viewParameter:3596}),e()},size:"lg",text:g.a._("Done","nux.interestStep.doneButton","Done button on nux and renux interest picker"),type:"submit"})})]})}var Ae=n("FDmi");function Ne({account:e,large:t,viewerId:n}){const{email:i,fullName:o,id:r,imageMediumUrl:s,username:c}=e;if(n===r)return null;const d=!(null!=s&&s.includes("static/images/user/default"));return Object(l.jsxs)(a.f,{alignItems:"center",direction:"row",display:"flex",height:"100%",width:"100%",children:[Object(l.jsx)(a.f,{paddingX:1,children:Object(l.jsx)(Ae.a,{accessibilityLabel:"",name:null!=o?o:c,src:d?s:"",size:t?"lg":"md"})}),Object(l.jsxs)(a.f,{marginStart:3,flex:"grow",children:[Object(l.jsx)(a.cb,{color:"darkGray",truncate:!0,weight:"bold",children:o||c}),i&&Object(l.jsx)(a.cb,{color:"darkGray",truncate:!0,children:i})]})]})}var Re=n("0Bqi");var Pe=e=>{const t=Object.keys(e.accounts).length;return Object(l.jsxs)(a.f,{position:"relative",children:[Object(l.jsx)(a.f,{color:"lightGray",height:20*t*4,position:"absolute",width:1,dangerouslySetInlineStyle:{__style:{bottom:48,left:52}}}),Object(l.jsx)("ul",{children:Object.keys(e.accounts).map(t=>{const n=e.accounts[t];return Object(l.jsx)("li",{children:Object(l.jsx)(a.bb,{onTap:()=>e.onClick(n),children:Object(l.jsx)("div",{className:"AccountSwitcherListItem",style:{padding:"8px 16px 8px 28px"},children:Object(l.jsx)(Ne,{account:n})})})},t)})})]})},De=n("h4v/"),Ue=n("OCob"),Be=n("kJuv"),Ge=n("eOdZ"),Me=n("NdXn"),Ve=n("gC5q"),ze=n("gqRH"),Fe=n("zRck"),We=n("fJfT"),He=n("liz/");function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $e extends i.Component{constructor(...e){super(...e),Xe(this,"state",{failedAccount:null,showLoginModal:!1,isLoading:!1}),Xe(this,"handleAddAccount",()=>{Object(He.i)("add_account_click",null,this.props.container),this.props.container===Fe.c&&this.props.showLogin?this.props.showLogin():this.setState({showLoginModal:!0})}),Xe(this,"trackProfileNavigateClick",e=>{Object(He.i)(`current_profile_${e}_click`,null,this.props.container)}),Xe(this,"handleSwitch",e=>{const{container:t}=this.props;this.setState({isLoading:!0}),Object(x.b)(101,{component:13369,element:11196}),Object(He.i)("switch_account_click",{destination_user_id:e.id},t);const n={get_user:!0,switch_account:e.id};De.a.getInstance().pauseImpressionsAndFlush(),Object(Be.a)(n,Object(Ue.a)(),{container:"account_switcher"},!0).then((n={})=>{if(n.resource_response&&n.resource_response.data&&n.resource_response.data.success){const n="/"+e.username;Object(He.f)(n,e.id,t)}else Object(He.e)(e.id,t),this.setState({failedAccount:e,isLoading:!1})},n=>{throw Object(He.e)(e.id,t),this.setState({isLoading:!1}),n})}),Xe(this,"handleLinkedAccountSwitch",e=>{const{authViewer:t,container:n}=this.props;if(this.setState({isLoading:!0}),Object(x.b)(101,{component:13369,element:e.partner&&e.partner.isLinkedBusiness?11195:11194}),De.a.getInstance().pauseImpressionsAndFlush(),e.partner&&e.partner.isLinkedBusiness){const t={business_id:e.id,get_user:!0};Object(Be.a)(t,Object(Ue.a)(),{container:"account_switcher"},!0).then((t={})=>{Object(He.f)("/",e.id,n)},t=>{throw Object(He.e)(e.id,n),this.setState({isLoading:!1}),t})}else Ge.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{Object(He.h)(t.id),Object(He.f)("/"+e.username,t.id,n)},e=>{throw Object(He.e)(t.id,n),this.setState({isLoading:!1}),e})}),Xe(this,"handleCloseModal",()=>this.setState({showLoginModal:!1})),Xe(this,"handleReauthAccount",()=>{Object(He.i)("switch_failure_prompt.login_click",null,this.props.container),this.setState({failedAccount:null,showLoginModal:!0})}),Xe(this,"handleRemoveUnauthAccount",e=>{Object(He.i)("switch_failure_prompt.account_removed",{removed_user_id:e},this.props.container),Object(He.h)(e),this.setState({failedAccount:null})}),Xe(this,"getBusinessAccounts",()=>{const{businessUserResource:e,authViewer:{partner:t}}=this.props;if(!e.data)return null;return(t&&t.is_linked_business?e.data.owners:e.data.businesses).reduce((e,t)=>(e[t.id]=Object(Ve.a)(Me.a,!0)(t),t.partner&&t.partner.is_linked_business&&(e[t.id].email=t.partner.biz_ownership_email),e),{})}),Xe(this,"renderAccounts",e=>Object.keys(e).map((t,n)=>Object(l.jsxs)("li",{children:[Object(l.jsx)(a.bb,{onTap:()=>{this.handleSwitch(e[t])},children:Object(l.jsx)("div",{className:"AccountSwitcherListItem",style:{height:"auto"},children:Object(l.jsx)(Ne,{large:!0,account:e[t],viewerId:this.props.authViewer.id})})}),n!==He.a-2&&Object(l.jsx)(a.p,{})]},n))),Xe(this,"renderPinnerButtons",e=>{const{onNavigateButtonClick:t}=this.props;return Object(l.jsx)(ze.a,{href:`/${e}/`,onHistoryChange:We.e,children:({handleClick:n})=>Object(l.jsx)(a.g,{text:g.a._("View profile","Visit a user profile from account switcher","Visit a user profile from account switcher"),accessibilityLabel:g.a._("Go to current profile","Visit a current user profile from account switcher","Visit a current user profile from account switcher"),size:"sm",color:"red",onClick:({event:e,disableOnNavigation:i})=>{i(),this.trackProfileNavigateClick("button"),t&&t(),n({event:e})},href:`/${e}/`,role:"link"})})}),Xe(this,"renderBusinessButtons",e=>{const{onNavigateButtonClick:t}=this.props;return Object(l.jsxs)(a.f,{display:"flex",children:[Object(l.jsx)(a.f,{marginEnd:2,children:Object(l.jsx)(ze.a,{href:"/business/hub/",onHistoryChange:We.e,children:({handleClick:e})=>Object(l.jsx)(a.g,{text:g.a._("Business hub","Link to Business hub from account switcher","Link to Business hub from account switcher"),accessibilityLabel:g.a._("Go to Business hub","Visit the Business hub for the current business user","Visit the Business hub for the current business user"),size:"sm",color:"red",href:"/business/hub/",role:"link",onClick:({event:n,disableOnNavigation:i})=>{i(),Object(x.b)(101,{element:11236}),t&&t(),e({event:n})}},"biz-hub-button")})}),Object(l.jsx)(ze.a,{href:`/${e}/`,onHistoryChange:We.e,children:({handleClick:n})=>Object(l.jsx)(a.g,{text:g.a._("Profile","Visit a user profile from account switcher","Visit a user profile from account switcher"),accessibilityLabel:g.a._("Go to current user profile","Visit a current user profile from account switcher","Visit a current user profile from account switcher"),size:"sm",role:"link",href:`/${e}/`,onClick:({event:e,disableOnNavigation:i})=>{i(),this.trackProfileNavigateClick("button"),t&&t(),n({event:e})}})})]})})}componentDidMount(){this.props.container===Fe.c&&Object(He.i)("modal.shown")}componentWillUnmount(){this.props.container===Fe.c&&Object(He.i)("modal.dismiss")}renderLoadingIndicator(){return this.state.isLoading?Object(l.jsx)(me.a,{}):null}render(){var e,t;const{authViewer:n}=this.props,{failedAccount:i,isLoading:o,showLoginModal:r}=this.state,s=Object(He.d)(),c=this.getBusinessAccounts(),d=Object.keys(s).length,u=s[n.id];delete s[u.id];const b=u.imageLargeUrl&&!u.imageLargeUrl.includes("static/images/user/default");return Object(l.jsxs)(a.f,{flex:"grow",children:[r&&Object(l.jsx)(Re.a,{container:this.props.container,onClose:this.handleCloseModal,email:i?i.email:""}),i?Object(l.jsxs)(a.f,{paddingX:4,paddingY:4,flex:"grow",children:[Object(l.jsx)(a.f,{marginBottom:3,children:Object(l.jsx)(a.cb,{children:g.a._("Oh no! You're no longer logged into","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it")})}),Object(l.jsx)(Ne,{viewerId:u.id,account:i}),Object(l.jsx)(a.f,{marginTop:4,children:Object(l.jsx)(a.g,{text:g.a._("Log in again","Text on button allowing user to log into an account after failing to switch to that account","Text on button allowing user to log into an account after failing to switch to that account"),color:"red",onClick:this.handleReauthAccount})}),Object(l.jsx)(a.f,{marginTop:3,children:Object(l.jsx)(a.g,{text:g.a._("Remove account","Text on button allowing user to remove an account from their account switcher after failing to switch to it","Text on button allowing user to remove an account from their account switcher after failing to switch to it"),onClick:()=>this.handleRemoveUnauthAccount(i.id)})})]}):Object(l.jsxs)(a.f,{children:[o&&this.renderLoadingIndicator(),Object(l.jsxs)(a.f,{children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"row",display:"flex",marginTop:1,padding:4,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:1}},children:[Object(l.jsx)(a.f,{marginEnd:4,children:Object(l.jsx)(ze.a,{href:`/${u.username}/`,onHistoryChange:We.e,children:({handleClick:e})=>Object(l.jsx)(a.bb,{role:"link",href:`/${u.username}/`,onTap:({event:t,disableOnNavigation:n})=>{n(),this.trackProfileNavigateClick("avatar"),e({event:t})},children:Object(l.jsx)(Ae.a,{name:u.fullName||u.username,size:"lg",src:b?u.imageLargeUrl:""})})})}),Object(l.jsxs)(a.f,{flex:"grow",children:[Object(l.jsxs)(a.f,{marginBottom:2,children:[Object(l.jsx)(a.cb,{color:"darkGray",truncate:!0,weight:"bold",children:u.fullName||u.username}),u.email&&Object(l.jsx)(a.cb,{color:"darkGray",truncate:!0,children:u.email})]}),n.partner?this.renderBusinessButtons(u.username):this.renderPinnerButtons(u.username)]})]}),c?Object(l.jsx)(Pe,{accounts:c,onClick:this.handleLinkedAccountSwitch}):null,Object(l.jsx)(a.p,{}),null!==(e=n.partner)&&void 0!==e&&e.is_linked_business?null:Object(l.jsx)(a.f,{children:Object(l.jsx)("ul",{children:this.renderAccounts(s)})})]}),d<He.a&&!(null!==(t=n.partner)&&void 0!==t&&t.is_linked_business)&&Object(l.jsx)(a.f,{paddingX:4,paddingY:3,children:Object(l.jsx)(a.g,{text:g.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account","Short text on the button that allows a user to log in to another Pinterest account"),onClick:()=>this.handleAddAccount()})})]})]})}}function Ke(e){const t=Object(X.a)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.authViewer.id}});return Object(l.jsx)($e,{...e,businessUserResource:t})}function Ye({authViewer:e,customTaglineText:t,hideAccountSwitchValueProp:n,onDismiss:o,showAddAccount:r}){const[s,c]=Object(i.useState)(Boolean(r)),d=Object(X.a)({name:"UserResource",options:{username:e.username,field_set_key:"linked_partner"}});Object(i.useEffect)(()=>{Object(He.g)(e,d.data)},[]);return s?Object(l.jsx)(Re.a,{container:Fe.c,onClose:r?o:()=>c(!1),customTaglineText:t,hideAccountSwitchValueProp:n}):Object(l.jsx)(a.f,{position:"relative",children:Object(l.jsx)(pe.b,{accessibilityModalLabel:g.a._("View, add, and switch logged in users","modal which allows user to add and switch multiple accounts","modal which allows user to add and switch multiple accounts"),size:"sm",heading:g.a._("Switch accounts","Short title on modal that allows a user to switch between different Pinterest accounts","Short title on modal that allows a user to switch between different Pinterest accounts"),onDismiss:o,children:Object(l.jsx)(Ke,{authViewer:e,container:Fe.c,onNavigateButtonClick:()=>o(),showLogin:()=>c(!0)})})})}var qe=n("yaUg"),Je=n("ihsa"),Ze=n("V08O");const Qe={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},et="DelightfulBubbles__",tt=["DelightfulBubbles__fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n","DelightfulBubbles__growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n","DelightfulBubbles__swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n",...Object.keys(Qe).map(e=>{const t=((e,t)=>{const n=e.length,i=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[i]})(Object.keys(Qe),e);return`${et}colorChange_${e} {\n      0% {\n        background-color: ${Qe[e]};\n      }\n      50% {\n        background-color: ${Qe[t]};\n      }\n    }\n    `})],nt=Object(Ze.a)(tt);function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot=e=>{const{delay:t,diameter:n,height:i,initialColor:o,width:r,xOffset:s,yOffset:c}=e,d=((e,t,n,i,o,r,a,s)=>({bubblePositionStyles:{position:"absolute",marginLeft:r/2-o+"px",marginTop:n/2-o+"px",left:a+"px",top:s+"px"},bubbleSwirlStyles:{animation:`${et}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${et}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${et}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${et}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:t+"px",width:t+"px",borderRadius:"50%",backgroundColor:Qe[i],opacity:0,animation:`${et}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,\n      ${et}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${et}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,\n      ${et}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,i,o,Math.floor(n/2),r,s,c);return Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubblePositionStyles},children:Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubbleSwirlStyles},children:Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubbleGrowShrinkStyles},children:Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubbleShapeStyles}})})})})};class rt extends i.Component{constructor(...e){super(...e),it(this,"state",{isInitialized:!1})}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{bubbleSize:n,delayFactor:i,delayOffset:o,numBubbles:r,xRadiusAdjustment:a,yRadiusAdjustment:s}=this.props,c=e+2*s,d=t+2*a,u=[],b=Object.keys(Qe);for(let g=0;g<r;g+=1){const r=n+Object(Ze.c)(-4,4),a=b[g%b.length],{x:s,y:f}=Object(Ze.b)(c,d);u.push(Object(l.jsx)(ot,{delay:g*i+o,diameter:r,initialColor:a,xOffset:s,yOffset:f,height:e,width:t},g))}return u}render(){const{height:e,width:t}=this.getSize();return Object(l.jsxs)(a.f,{height:e,width:t,position:"relative",children:[Object(l.jsx)(Je.a,{unsafeCSS:nt}),Object(l.jsxs)(a.f,{ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(e||0,t||0),Object(l.jsx)(a.f,{position:"relative",children:this.props.children})]})]})}}it(rt,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var at=rt,st=n("/lhQ"),ct=n("EC51"),lt=n("J2m7"),dt=n.n(lt);function ut({onClick:e,size:t,view:n,viewParameter:o}){const r=Object(C.a)().locale||"",{locale:s}=Object(ce.d)(),c=r||s||w.c,{isLoaded:d,data:u}=Object(X.a)({name:"LocalesResource"}),b=Object(i.useMemo)(()=>{var e;return null===(e=dt()(u,{key:c}))||void 0===e?void 0:e.name},[c,u]);Object(i.useEffect)(()=>{Object(x.b)(13,{element:240,view:n,viewParameter:o})},[n,o]);return d?Object(l.jsx)(a.bb,{fullWidth:!1,onTap:()=>{Object(x.b)(101,{element:240,view:n,viewParameter:o}),e()},children:Object(l.jsxs)(a.f,{alignItems:"center",display:"flex",justifyContent:"center",children:[Object(l.jsx)(a.v,{accessibilityLabel:"",color:"darkGray",icon:"globe",size:"md"===t?14:12}),Object(l.jsx)(a.f,{paddingX:1,children:Object(l.jsx)(a.cb,{size:t,weight:"bold",children:b})}),Object(l.jsx)(a.v,{accessibilityLabel:"",color:"darkGray",icon:"arrow-forward",size:"md"===t?12:10})]})}):null}var bt=n("28DW"),gt=n("0S8y");const ft="NUX_WELCOME_NAME_STEP_STATUS";function ht({activateLocaleCountryAsModuleExp:e,incrementNuxStep:t,toggleLocalizationModal:n}){const r=Object(C.a)(),s=r.firstName||"",[c,d]=Object(i.useState)(""),[u,b]=Object(i.useState)(s),[f,h]=Object(i.useState)(!1),[m,p]=Object(i.useState)(!1),[_,y]=Object(i.useState)(!1),[S,v]=Object(i.useState)(!1),E=r.isAuth?r.email:"",I=Object(o.useDispatch)();Object(i.useEffect)(()=>{I(Object(j.a)("welcome")),I(Object(O.a)(ft,w.f)),Object(x.b)(13,{view:24,viewParameter:259})},[]),Object(i.useEffect)(()=>{d(_?g.a._("And your name is...?","nux.welcomeStep.noNameError","Error flyout when user doesn't input name"):S?g.a._("Hmm, that's too long. Try a nickname instead?","nux.welcomeStep.nameLengthError","Name exceeds 30 character maximum error"):"")},[_,S]),Object(i.useEffect)(()=>{y(!u||Object(st.a)(u)),v(!!u&&u.length>30)},[u]);const T=()=>{p(S||_||!m),Object(x.b)(101,{element:136,view:24,viewParameter:259})},k=g.a._("Welcome to Pinterest","nux.welcomeStep.welcomeHeader","greeting on welcome name step"),L=Object(qe.a)(g.a._("{{ titleText }} {{ name }}!","nux.welcomeStep.greetingHeader","Greeting with inferred name."),{titleText:k,name:u}).replace(",",""),A=L.indexOf(u)-1,N=g.a._("Your answers to the next few questions will help us find the right ideas for you","nux.welcomeStep.subheader","header on nux welcome and name editing step"),R=N.indexOf(" ",Math.round(N.length/2));return r.isAuth?Object(l.jsxs)(i.Fragment,{children:[f&&Object(l.jsx)(Ye,{authViewer:r,customTaglineText:g.a._("Log in","nux.welcomeStep.loginTitle","Title on modal for users to log in to an existing account after they accidentally created a new account"),hideAccountSwitchValueProp:!0,onDismiss:()=>h(!1),showAddAccount:!0}),Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",minWidth:"100%",padding:8,children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",justifyContent:"start",width:"100%",children:[Object(l.jsx)(at,{delayOffset:-5,xRadiusAdjustment:40,children:Object(l.jsx)(a.f,{height:120,width:120,children:Object(l.jsx)(Ae.a,{name:u})})}),Object(l.jsx)(a.f,{alignItems:"center",marginTop:e().anyEnabled?5:6,width:"100%",children:Object(l.jsx)(a.cb,{align:"center",size:"lg",truncate:!0,children:E})}),Object(l.jsx)(a.f,{alignItems:"end",display:"flex",marginTop:2,width:"100%",children:Object(l.jsxs)(a.f,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[Object(l.jsx)(a.y,{htmlFor:"name",children:Object(l.jsx)(a.f,{marginEnd:-1,marginStart:-1,marginTop:e().anyEnabled?2:4,children:m?Object(l.jsx)(a.u,{align:"center",size:"md",children:k}):Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:L.substring(0,A)}),Object(l.jsxs)(a.f,{alignItems:"center",display:"flex",height:44,justifyContent:"center",marginTop:4,paddingY:1,children:[Object(l.jsx)(a.f,{maxWidth:"calc(100% - 80px)",marginStart:10,children:Object(l.jsx)(a.u,{align:"center",size:"md",truncate:!0,children:L.substring(A+1)})}),Object(l.jsx)(a.f,{"data-test-id":"nux-edit-name-btn",paddingX:1,children:Object(l.jsx)(a.w,{accessibilityLabel:g.a._("Edit Name","nux.welcomeStep.editButton","Botton that allows editing the user's name"),bgColor:"transparent",icon:"edit",iconColor:"darkGray",onClick:T,size:"sm"})})]})]})})}),m&&Object(l.jsxs)(a.f,{alignItems:"start","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",marginTop:1,paddingY:1,children:[Object(l.jsx)(a.f,{width:"69%",children:Object(l.jsx)(a.eb,{errorMessage:c,id:"name",onChange:({value:e})=>b(e||""),placeholder:g.a._("name","nux.welcomeStep.namePlaceholder"),size:"lg",type:"text",value:u})}),Object(l.jsx)(a.f,{"data-test-id":"nux-update-name-btn",marginStart:2,children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Submit","nux.welcomeStep.submitButton","Button that stores the name of the updated user"),color:"gray",inline:!0,onClick:T,size:"lg",text:g.a._("Submit","nux.welcomeStep.submitButton","Button that stores the name of the updated user")})})]})]})}),Object(l.jsx)(a.f,{marginTop:c?0:6,width:"100%",children:N.length>120?Object(l.jsx)(a.cb,{align:"center",children:N}):Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.cb,{align:"center",children:N.substring(0,R)}),Object(l.jsx)(a.cb,{align:"center",children:N.substring(R)})]})})]}),Object(l.jsx)(a.f,{"data-test-id":"nux_name_done_btn",marginTop:e().anyEnabled?5:8,children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Next","nux.welcomeStep.nextButton","go to next nux step"),color:"red",disabled:!!c,onClick:()=>{const e=Object(gt.a)(u);I(Object(O.e)({updateUserData:e})).then(()=>{I(Object(O.a)(ft,w.a)),Object(x.b)(101,{element:96,view:24,viewParameter:259,did_edit_name:s!==u}),Object(x.b)(8900,{view:24,viewParameter:259}),t()})},size:"lg",text:g.a._("Next","nux.welcomeStep.nextButton","next nux step button"),type:"button"})}),Object(l.jsxs)(a.f,{marginBottom:5,marginTop:5,children:[Object(l.jsxs)(a.bb,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),Object(bt.a)("web.nux.click_login"),h(!0)},children:[Object(l.jsx)(a.cb,{align:"center",size:"sm",children:g.a._("Already have a Pinterest account?","nux.welcomeStep.loginSubtitle","subtitle to ask users who create a new account if they meant to log in to an existing account")}),Object(l.jsx)(a.cb,{align:"center",size:"sm",weight:"bold",children:Object(l.jsx)(ct.a,{href:"#",children:g.a._("Log in instead","nux.welcomeStep.loginLink","Link allowing users who just created a new account the option to log in instead into an existing account")})})]}),e().anyEnabled&&Object(l.jsx)(a.f,{marginTop:2,children:Object(l.jsx)(ut,{onClick:n,size:e().group.startsWith("enabled_md")?"md":"sm",view:24,viewParameter:259})})]})]})]}):null}var mt=n("EC67");function pt({activateLocaleCountryAsModuleExp:e,handleComplete:t,handleDismiss:n,hideFollowedInterests:r,isLandingPage:a,isRenux:s,isSimpleRenux:c,steps:d}){const[u,b]=Object(i.useState)([]),[g,f]=Object(i.useState)(!1),[h,m]=Object(i.useState)(!1),[p,_]=Object(i.useState)(()=>{let e=0;if(!s)for(;e<d.length&&d[e].isCompleted;)e+=1;return e}),j=Object(o.useDispatch)(),w=Object(mt.h)(),y=()=>m(!h),v=()=>e?e():{},E=s?213:24;Object(i.useEffect)(()=>{Object(x.b)(4104,{view:E,viewParameter:170})},[s,E]);const I=Object(i.useCallback)(()=>({NuxWelcomeNameStep:259,NuxGenderStep:3120,NuxLocaleCountryStep:3139,NuxPicker:172}[d[p].moduleName]),[p,d]),k=()=>{const e=p+1;e>=d.length?(s||j(Object(O.c)(!0)),Object(x.b)(4105,{view:E,viewParameter:171}),t(),a&&w.push({pathname:"/",state:{completedNux:!0}})):_(e)},L={NuxWelcomeNameStep:ht,NuxGenderStep:U,NuxLocaleCountryStep:de,NuxPicker:re,NuxExtensionUpsell:T,NuxQrCodeAppInstall:Ce,NuxEducationLoader:S},C=e=>"NuxEducationLoader"===e.moduleName,A=d.filter(e=>!C(e)),N=C(d[p])||a,R=s?!N&&!c&&p>0:!N&&!c&&p>1;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(ye,{currentIndex:p,hideDots:s||c||N,isLoading:g,numSteps:A.length,onClose:N||!s&&!c?void 0:n,onPrevStepClick:R?()=>{const e=I();e&&Object(x.b)(101,{component:17,element:34,view:E,viewParameter:e}),_(p-1)}:void 0,stepName:d[p].moduleName,children:(()=>{const e=d[p].moduleName,t=L[e];return Object(l.jsx)(t,{activateLocaleCountryAsModuleExp:v,hideFollowedInterests:r,incrementNuxStep:k,isRenux:s,isSimpleRenux:c,selectedInterests:u,setSelectedInterests:b,toggleLoadingIndicator:e=>f(e),toggleLocalizationModal:y,isLastStep:p===A.length-1})})()}),h&&v().anyEnabled&&Object(l.jsx)(fe,{onDismiss:y,toggleLoadingIndicator:e=>f(e),view:E,viewParameter:I()})]})}},xGpI:function(e,t,n){var i=n("ipvL");t.a=()=>i.a.getAccountsJSON()},yM2L:function(e,t,n){n.r(t),n.d(t,"exchangeTokenAndSetSession",(function(){return d})),n.d(t,"verifyLoggedInStatus",(function(){return u})),n.d(t,"registerUser",(function(){return b})),n.d(t,"loginUser",(function(){return g}));var i=n("T0g9"),o=n("eOdZ"),r=n("kmwA"),a=n("28DW"),s=n("J8m7");const c=r.a.settings.ACCOUNTS_PINTEREST_URL,l=(e,t,n,i)=>{const o=e=>{const t=new Error(e.statusText);throw t.response=e,!t.api_error_code&&t.response&&(t.api_error_code=t.response.code,t.message=t.response.message),t},r={credentials:"include",mode:"cors"};return"POST"===n&&(r.method="POST",r.body=t,r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":i},i||Object(a.a)("unauth.auth_handshake.cross_domain.no_unauth_id."+n)),fetch(e,r).then(e=>200===e.status||401===e.status||409===e.status?e:(o(e),{})).then(e=>e.json()).then(e=>"success"===e.status?Promise.resolve(e):e.code===s.t?(e.api_error_code=e.code,Promise.reject(e)):(o(e),{})).catch(e=>{throw e})},d=(e,t=!1)=>o.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate(),u=e=>{l(c+"/v3/handshake/verify/","","GET",e).then(e=>{if(e&&e.data){const t=e.data;d(t).then(e=>{window.location.reload()},e=>{})}},e=>{})},b=(e,{facebookToken:t,inviteCode:n,locale:o,referrer:a,unauthId:s})=>{const c=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",d={};if(d.email=e.email||"",d.username=e.username||"",d.password=e.password||"",d.first_name=e.first_name||"",d.last_name=e.last_name||"",d.country=e.country||"",d.locale=o,d.referrer=a,e.age){const t=new Date;t.setFullYear(t.getFullYear()-e.age);const n=parseInt(t/1e3,10);d.birthday=n.toString()}if(e.custom_gender&&(d.custom_gender=e.custom_gender),e.gender&&(d.gender=e.gender),e.business_name&&(d.account_type=e.account_type,d.business_name=e.business_name,d.first_name=e.business_name),n&&(d.invite_code=n),e.facebook_id){const n=t||e.facebook_token||"";d.facebook_id=e.facebook_id,d.facebook_token=n,d.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(d.password=e.password||"",d.one_time_code=e.gplus_code,d.id_token=e.gplus_id_token,d.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(d.recaptcha_v3_token=e.recaptchaV3Token),l(`${r.a.settings.ACCOUNTS_PINTEREST_URL}/v3/register/${c}/`,Object(i.a)(d),"POST",s)},g=(e,{facebookToken:t,recaptchaV3Token:n,referrer:o,unauthId:a})=>{const s=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",c={};if(e.username_or_email&&(c.username_or_email=e.username_or_email.trim(),c.password=e.password,c.referrer=o),e.facebook_id){const n=t||e.facebook_token||"";c.facebook_id=e.facebook_id,c.facebook_token=n,c.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(c.gplus_id_token=e.gplus_id_token,c.gplus_access_token=e.gplus_access_token,c.gplus_expires_at=e.gplus_expires_at,c.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(c.mfa_token=e.mfa_token),n&&(c.token=n),l(`${r.a.settings.ACCOUNTS_PINTEREST_URL}/v3/login/${s}/`,Object(i.a)(c),"POST",a)}},zRck:function(e,t,n){n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"n",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return _}));const i="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",a="account_switcher_modal",s="vmp_account_switcher_modal",c="account_recovery",l="board_invite",d="closeup",u="flashlight_grid",b="google_one_tap_modal",g="inspired_banner",f="hybrid_clickthrough",h="hybrid_banner",m="pin_image",p="response_flyout",_="unauth_header"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/350-00a1cd7e89bf6f00fd8d.mjs.map